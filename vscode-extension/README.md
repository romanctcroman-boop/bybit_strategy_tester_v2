# Agent-to-Agent Communication Bridge

**VS Code Extension –¥–ª—è –ø—Ä—è–º–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è —Å DeepSeek –∏ Perplexity AI –∞–≥–µ–Ω—Ç–∞–º–∏**

## üéØ –ü—Ä–æ–±–ª–µ–º–∞, –∫–æ—Ç–æ—Ä—É—é —Ä–µ—à–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

GitHub Copilot –∏–º–µ–µ—Ç –∂–µ—Å—Ç–∫–æ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ **128 MCP tools**, –ø–æ—Å–ª–µ —á–µ–≥–æ –±–ª–æ–∫–∏—Ä—É–µ—Ç –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ —Å–µ—Ä–≤–µ—Ä–∞:
```
Sorry, your request failed. Tool limit exceeded (133/128)
```

–≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ **–ø–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ö–æ–¥–∏—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ**, —Å–æ–∑–¥–∞–≤–∞—è –ø—Ä—è–º–æ–π –∫–∞–Ω–∞–ª —Å–≤—è–∑–∏ –º–µ–∂–¥—É VS Code –∏ AI –∞–≥–µ–Ω—Ç–∞–º–∏ —á–µ—Ä–µ–∑ WebSocket.

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### 1. **–ü—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∫–æ–¥–∞ –∞–≥–µ–Ω—Ç–∞–º**
- –í—ã–¥–µ–ª–∏—Ç–µ –∫–æ–¥ ‚Üí –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí "Send to DeepSeek Agent"
- –û—Ç–ø—Ä–∞–≤–∫–∞ –≤—ã–¥–µ–ª–µ–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –≤ DeepSeek –∏–ª–∏ Perplexity
- –ù–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –Ω–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤

### 2. **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Å–µ–Ω—Å—É—Å**
- –ö–æ–º–∞–Ω–¥–∞: `Agent Bridge: Get Multi-Agent Consensus`
- –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–æ–ø—Ä–æ—Å–∞ DeepSeek + Perplexity
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –æ—Ç —Ä–∞–∑–Ω—ã—Ö AI

### 3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏**
- –°—Ç–∞—Ç—É—Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –≤ Status Bar: `$(broadcast) Agent Bridge`
- Output Channel "Agent Bridge" —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –ª–æ–≥–∞–º–∏
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –æ–±—Ä—ã–≤–µ —Å–≤—è–∑–∏

### 4. **–£–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤**
- –û—Ç–≤–µ—Ç—ã –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤ –Ω–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ (Markdown)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ–±—Ä–µ–∑–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ (5000 —Å–∏–º–≤–æ–ª–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
- –ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è VS Code

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ Backend –∑–∞–ø—É—â–µ–Ω
```powershell
# Start Agent-to-Agent API server
py -m uvicorn backend.main:app --reload
```

Backend –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `http://localhost:8000/api/v1/agent/ws`

### 2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ
```bash
cd vscode-extension
npm install
npm run compile
```

### 3. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ VS Code
```bash
code .
```

–ù–∞–∂–º–∏—Ç–µ `F5` –¥–ª—è –∑–∞–ø—É—Å–∫–∞ Extension Development Host

## üéÆ –ö–æ–º–∞–Ω–¥—ã

### –ò–∑ Command Palette (`Ctrl+Shift+P`):

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `Agent Bridge: Send to DeepSeek` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ DeepSeek |
| `Agent Bridge: Send to Perplexity` | –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—ã–¥–µ–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –≤ Perplexity |
| `Agent Bridge: Get Consensus` | –ü–æ–ª—É—á–∏—Ç—å –∫–æ–Ω—Å–µ–Ω—Å—É—Å –æ—Ç –æ–±–æ–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤ |
| `Agent Bridge: Toggle Connection` | –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ |

### –ò–∑ –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω–æ–≥–æ –º–µ–Ω—é (–ø—Ä–∞–≤—ã–π –∫–ª–∏–∫):

- **"Send to DeepSeek Agent"** - –±—ã—Å—Ç—Ä–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ DeepSeek
- **"Get Multi-Agent Consensus"** - –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–π –æ–ø—Ä–æ—Å –∞–≥–µ–Ω—Ç–æ–≤

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏

–û—Ç–∫—Ä–æ–π—Ç–µ `Settings` ‚Üí `Extensions` ‚Üí `Agent Bridge`:

```json
{
  "agentBridge.serverUrl": "ws://localhost:8000/api/v1/agent/ws",
  "agentBridge.autoConnect": true,
  "agentBridge.defaultAgent": "auto",
  "agentBridge.showNotifications": true,
  "agentBridge.maxResponseLength": 5000
}
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã:

- **serverUrl** - WebSocket URL –±—ç–∫–µ–Ω–¥–∞
- **autoConnect** - –ê–≤—Ç–æ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ VS Code
- **defaultAgent** - –ê–≥–µ–Ω—Ç –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (`deepseek`, `perplexity`, `auto`)
- **showNotifications** - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å popup —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- **maxResponseLength** - –ú–∞–∫—Å. –¥–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞ –≤ Output Channel

## üîå –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    WebSocket    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê    HTTP    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  VS Code    ‚îÇ ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí ‚îÇ  FastAPI     ‚îÇ ‚Üê‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Üí ‚îÇ DeepSeek ‚îÇ
‚îÇ  Extension  ‚îÇ  ws://8000/ws   ‚îÇ  Backend     ‚îÇ            ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                       ‚Üï HTTP
                                ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                ‚îÇ  Perplexity  ‚îÇ
                                ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

1. **VS Code Extension (TypeScript)** - –≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç
   - WebSocket –∫–ª–∏–µ–Ω—Ç –¥–ª—è real-time —Å–≤—è–∑–∏
   - UI –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–∫–æ–º–∞–Ω–¥—ã, –º–µ–Ω—é, —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)

2. **FastAPI Backend (Python)** - `backend/api/agent_to_agent_api.py`
   - WebSocket —Å–µ—Ä–≤–µ—Ä (`/api/v1/agent/ws/{client_id}`)
   - 6 REST endpoints (send, broadcast, conversation, consensus, iterative-improvement)

3. **Agent Communicator (Python)** - `backend/agents/agent_to_agent_communicator.py`
   - –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π –º–µ–∂–¥—É –∞–≥–µ–Ω—Ç–∞–º–∏
   - 5 –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏ (Sequential, Parallel, Iterative, Collaborative, Hierarchical)
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Unified Agent Interface (8 DeepSeek + 8 Perplexity –∫–ª—é—á–µ–π)

## üìä –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –ü—Ä–∏–º–µ—Ä 1: –ê–Ω–∞–ª–∏–∑ –∫–æ–¥–∞ —Å DeepSeek

1. –í—ã–¥–µ–ª–∏—Ç–µ –∫–æ–¥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ
2. `Ctrl+Shift+P` ‚Üí `Agent Bridge: Send to DeepSeek`
3. –í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é: `Add analysis request`
4. –û—Ç–≤–µ—Ç –ø–æ—è–≤–∏—Ç—Å—è –≤ –Ω–æ–≤–æ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ —á–µ—Ä–µ–∑ 3-5 —Å–µ–∫—É–Ω–¥

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–Ω—Å–µ–Ω—Å—É—Å–∞

1. –í—ã–¥–µ–ª–∏—Ç–µ –ø—Ä–æ–±–ª–µ–º–Ω—ã–π –∫–æ–¥
2. –ü—Ä–∞–≤—ã–π –∫–ª–∏–∫ ‚Üí `Get Multi-Agent Consensus`
3. –í–≤–µ–¥–∏—Ç–µ –≤–æ–ø—Ä–æ—Å: "What are the potential issues here?"
4. –ü–æ–ª—É—á–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç DeepSeek –ò Perplexity –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ

### –ü—Ä–∏–º–µ—Ä 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ Output

1. `View` ‚Üí `Output` ‚Üí `Agent Bridge`
2. –°–º–æ—Ç—Ä–∏—Ç–µ –¥–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏:
   - `üì§ Sent:` - –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
   - `üì• Received:` - –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã
   - `ü§ñ Response from deepseek:` - –æ—Ç–≤–µ—Ç—ã –∞–≥–µ–Ω—Ç–æ–≤

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

Backend –ø—Ä–æ—à–µ–ª 100% —Ç–µ—Å—Ç–æ–≤:

```bash
py test_agent_to_agent.py
```

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã:
- ‚úÖ Basic Message Routing (6.28s)
- ‚úÖ DeepSeek ‚áÑ Perplexity Collaboration (60.95s)
- ‚úÖ Multi-Agent Consensus (32.97s)
- ‚úÖ Iterative Improvement (14.70s)
- ‚úÖ Multi-Turn Conversation (24.52s)

**Success Rate: 100%**

## ‚ö†Ô∏è Known Issues

### Performance
- –ë–∞–∑–æ–≤–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è: ~6.3s (—Ü–µ–ª–µ–≤–æ–π <500ms) - **–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∞**
- Collaborative pattern: ~61s –¥–ª—è 3 —Å–æ–æ–±—â–µ–Ω–∏–π

### Improvements Planned
1. –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤
2. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –≤ Redis
3. Streaming responses (–≤–º–µ—Å—Ç–æ polling)
4. Connection pooling –¥–ª—è API –∫–ª–∏–µ–Ω—Ç–æ–≤

## üîß –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

### –ö–æ–º–ø–∏–ª—è—Ü–∏—è
```bash
npm run compile
```

### Watch mode (–∞–≤—Ç–æ–ø–µ—Ä–µ–∫–æ–º–ø–∏–ª—è—Ü–∏—è)
```bash
npm run watch
```

### –û—Ç–ª–∞–¥–∫–∞
1. –û—Ç–∫—Ä—ã—Ç—å `vscode-extension` –≤ VS Code
2. `F5` - –∑–∞–ø—É—Å—Ç–∏—Ç—å Extension Development Host
3. –í –Ω–æ–≤–æ–º –æ–∫–Ω–µ –ø–æ–ø—Ä–æ–±–æ–≤–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã
4. –û—à–∏–±–∫–∏ –≤–∏–¥–Ω—ã –≤ Debug Console –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞
```
vscode-extension/
‚îú‚îÄ‚îÄ package.json          # –ú–∞–Ω–∏—Ñ–µ—Å—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
‚îú‚îÄ‚îÄ tsconfig.json         # TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îî‚îÄ‚îÄ extension.ts      # –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª (490 —Å—Ç—Ä–æ–∫)
‚îî‚îÄ‚îÄ out/                  # –°–∫–æ–º–ø–∏–ª–∏—Ä–æ–≤–∞–Ω–Ω—ã–π JS (–∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è)
```

## üìö –°–≤—è–∑—å —Å –æ—Å–Ω–æ–≤–Ω—ã–º –ø—Ä–æ–µ–∫—Ç–æ–º

–≠—Ç–æ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —è–≤–ª—è–µ—Ç—Å—è —á–∞—Å—Ç—å—é **Bybit Strategy Tester v2** –ø—Ä–æ–µ–∫—Ç–∞:

- `backend/api/agent_to_agent_api.py` - FastAPI endpoints
- `backend/agents/agent_to_agent_communicator.py` - –õ–æ–≥–∏–∫–∞ –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏–∏
- `test_agent_to_agent.py` - Comprehensive test suite
- `AGENT_TO_AGENT_TEST_ANALYSIS.md` - DeepSeek –∞–Ω–∞–ª–∏–∑ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

## üéØ Roadmap

- [x] WebSocket –∫–ª–∏–µ–Ω—Ç –∏ –±–∞–∑–æ–≤–∞—è –∫–æ–º–º—É–Ω–∏–∫–∞—Ü–∏—è
- [x] –ö–æ–º–∞–Ω–¥—ã –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤ DeepSeek/Perplexity
- [x] Multi-agent consensus
- [ ] REST API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è conversation/iterative-improvement
- [ ] Inline code suggestions (hover provider)
- [ ] Chat view –≤ sidebar
- [ ] Streaming responses
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

## ü§ù Contributing

–°–∏—Å—Ç–µ–º–∞ Agent-to-Agent —è–≤–ª—è–µ—Ç—Å—è —Ä–µ–≤–æ–ª—é—Ü–∏–æ–Ω–Ω—ã–º —Ä–µ—à–µ–Ω–∏–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è 128 tools GitHub Copilot. 

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –∏–¥–µ–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é:
1. –°–æ–∑–¥–∞–π—Ç–µ Issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º
2. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ `test_agent_to_agent.py`
3. DeepSeek –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã

---

**Made with ‚ù§Ô∏è for bypassing GitHub Copilot tool limits**
