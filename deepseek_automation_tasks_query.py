"""
–ó–∞–ø—Ä–æ—Å –∫ DeepSeek API –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

–ó–∞–¥–∞—á–∏:
1. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
2. –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞–ø—É—Å–∫ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ API –∫–ª—é—á–µ–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä–∞
3. –§–æ–Ω–æ–≤—ã–π –∞—É–¥–∏—Ç-–∞–≥–µ–Ω—Ç –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —ç—Ç–∞–ø–æ–≤
"""

import asyncio
import json
import os
from datetime import datetime
from pathlib import Path
from dotenv import load_dotenv
import httpx

load_dotenv()

DEEPSEEK_API_KEY = os.getenv("DEEPSEEK_API_KEY")
OUTPUT_DIR = Path(__file__).parent / "ai_audit_results"
OUTPUT_DIR.mkdir(exist_ok=True)


async def ask_deepseek(prompt: str) -> dict:
    """–û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –≤ DeepSeek API"""
    async with httpx.AsyncClient(timeout=300.0) as client:
        try:
            response = await client.post(
                "https://api.deepseek.com/v1/chat/completions",
                headers={
                    "Authorization": f"Bearer {DEEPSEEK_API_KEY}",
                    "Content-Type": "application/json"
                },
                json={
                    "model": "deepseek-chat",
                    "messages": [
                        {
                            "role": "system",
                            "content": "–¢—ã - senior –∞—Ä—Ö–∏—Ç–µ–∫—Ç–æ—Ä –∏ —ç–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ Python –ø—Ä–æ–µ–∫—Ç–æ–≤, CI/CD –∏ —Ñ–æ–Ω–æ–≤—ã–º –∞–≥–µ–Ω—Ç–∞–º."
                        },
                        {
                            "role": "user",
                            "content": prompt
                        }
                    ],
                    "temperature": 0.7,
                    "max_tokens": 8000
                }
            )
            response.raise_for_status()
            return response.json()
        except Exception as e:
            print(f"‚ùå –û—à–∏–±–∫–∞: {e}")
            raise


async def main():
    """–ì–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è"""
    
    prompt = """
# –ó–ê–î–ê–ß–ê: –†–ê–ó–†–ê–ë–û–¢–ö–ê –°–ò–°–¢–ï–ú–´ –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–ò –î–õ–Ø BYBIT STRATEGY TESTER V2

–ú–Ω–µ –Ω—É–∂–Ω–∞ —Ç–≤–æ—è –ø–æ–º–æ—â—å –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ —Ç—Ä–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:

---

## üéØ –ó–ê–î–ê–ß–ê 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü–æ—Å–ª–µ –ª—é–±–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–¥–∞/—Ñ—É–Ω–∫—Ü–∏–π/—Ç–µ—Å—Ç–æ–≤
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å pytest
- –°–æ–±–∏—Ä–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤ (coverage, passed/failed, errors)
- –û—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ DeepSeek API –¥–ª—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏
- DeepSeek –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å:
  - –ö–∞—á–µ—Å—Ç–≤–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π
  - –ü–æ–ª–Ω–æ—Ç—É –ø–æ–∫—Ä—ã—Ç–∏—è —Ç–µ—Å—Ç–∞–º–∏
  - –ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã
  - –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é
- –°–æ—Ö—Ä–∞–Ω—è—Ç—å –æ—Ç—á–µ—Ç DeepSeek –≤ ai_audit_results/

**–í–æ–ø—Ä–æ—Å—ã:**
1. –ö–∞–∫ –ª—É—á—à–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–æ–≤? (watchdog, git hooks, CI/CD webhook?)
2. –ù—É–∂–µ–Ω –ª–∏ —Ñ–æ–Ω–æ–≤—ã–π –∞–≥–µ–Ω—Ç –∏–ª–∏ –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ pre-commit hook?
3. –ö–∞–∫–æ–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç—á–µ—Ç–∞ –ª—É—á—à–µ –¥–ª—è DeepSeek (JSON, Markdown, XML)?
4. –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å —Å–ø–∞–º–∞ –æ—Ç –º–µ–ª–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π?
5. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å –ü–û–õ–ù–´–ô —Ä–∞–±–æ—á–∏–π –∫–æ–¥ Python —Å–∫—Ä–∏–ø—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –†–∞–±–æ—á–∏–π Python —Å–∫—Ä–∏–ø—Ç/–∞–≥–µ–Ω—Ç
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

---

## üîê –ó–ê–î–ê–ß–ê 2: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ API –∫–ª—é—á–µ–π –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ MCP —Å–µ—Ä–≤–µ—Ä–∞

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ü—Ä–∏ –∑–∞–ø—É—Å–∫–µ MCP —Å–µ—Ä–≤–µ—Ä–∞ (mcp-server/server.py)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –º–æ–¥—É–ª—å —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏ –∫–ª—é—á–µ–π
- –ó–∞–≥—Ä—É–∂–∞—Ç—å PERPLEXITY_API_KEY –∏ DEEPSEEK_API_KEY –∏–∑ encrypted_secrets.json
- –î–µ–ª–∞—Ç—å –∫–ª—é—á–∏ –¥–æ—Å—Ç—É–ø–Ω—ã–º–∏ –¥–ª—è –≤—Å–µ—Ö MCP tools
- –û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å (–Ω–µ –ª–æ–≥–∏—Ä–æ–≤–∞—Ç—å –∫–ª—é—á–∏!)

**–¢–µ–∫—É—â–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```python
# mcp-server/server.py
from mcp import Server
import mcp.types as types

mcp = Server("bybit-strateg")

# –ó–¥–µ—Å—å –Ω—É–∂–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∫–ª—é—á–µ–π!

@mcp.tool()
async def perplexity_search(query: str):
    # –ò—Å–ø–æ–ª—å–∑—É–µ—Ç PERPLEXITY_API_KEY
    pass
```

**–í–æ–ø—Ä–æ—Å—ã:**
1. –ì–¥–µ –ª—É—á—à–µ —Ä–∞–∑–º–µ—Å—Ç–∏—Ç—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏? (startup event, __init__, decorator?)
2. –ö–∞–∫ –ø–µ—Ä–µ–¥–∞—Ç—å –∫–ª—é—á–∏ –≤–æ –≤—Å–µ tools –±–µ–∑ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö?
3. –ù—É–∂–µ–Ω –ª–∏ singleton KeyManager?
4. –ö–∞–∫ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∏?
5. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å –ü–û–õ–ù–´–ô —Ä–∞–±–æ—á–∏–π –∫–æ–¥ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ú–æ–¥—É–ª—å –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–∞
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ –∫–ª—é—á–µ–π –≤ tools
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫

---

## ‚è∞ –ó–ê–î–ê–ß–ê 3: –§–æ–Ω–æ–≤—ã–π –∞—É–¥–∏—Ç-–∞–≥–µ–Ω—Ç (—Ç–∞–π–º–µ—Ä)

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –§–æ–Ω–æ–≤—ã–π —Å–∫—Ä–∏–ø—Ç, –∫–æ—Ç–æ—Ä—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏—Ç:
  - –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö –∑–∞–¥–∞—á (–ø–æ –º–∞—Ä–∫–µ—Ä–∞–º –≤ –∫–æ–¥–µ/–ª–æ–≥–∞—Ö)
  - –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ ai_audit_results/ –ø–∞–ø–∫–µ
  - –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å —ç—Ç–∞–ø–æ–≤ –ø—Ä–æ–µ–∫—Ç–∞ (checkpoints)
- –ü—Ä–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ–≥–æ —ç—Ç–∞–ø–∞:
  - –°–æ–±—Ä–∞—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö
  - –ó–∞–ø—É—Å—Ç–∏—Ç—å DeepSeek –∞—É–¥–∏—Ç (full_ai_audit_deepseek_perplexity_deepseek.py)
  - –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ ai_audit_results/
  - –û—Ç–ø—Ä–∞–≤–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

**–ú–∞—Ä–∫–µ—Ä—ã –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —ç—Ç–∞–ø–æ–≤:**
- –§–∞–π–ª—ã —Ç–∏–ø–∞ *_COMPLETE.md, *_DONE.md
- –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ PHASE_*.md —Ñ–∞–π–ª–∞—Ö
- Successful test runs —Å coverage > 80%
- Commits —Å —Ç–µ–≥–∞–º–∏ [MILESTONE], [CHECKPOINT]

**–í–æ–ø—Ä–æ—Å—ã:**
1. –ö–∞–∫–æ–π –ø–æ–¥—Ö–æ–¥ –ª—É—á—à–µ: polling vs event-driven (watchdog)?
2. –ö–∞–∫ —á–∞—Å—Ç–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è? (5 –º–∏–Ω, 15 –º–∏–Ω, 1 —á–∞—Å?)
3. –ö–∞–∫ –∏–∑–±–µ–∂–∞—Ç—å –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π?
4. –ù—É–∂–Ω–∞ –ª–∏ –æ—á–µ—Ä–µ–¥—å –∑–∞–¥–∞—á (Redis, Celery)?
5. –ö–∞–∫ –∑–∞–ø—É—Å–∫–∞—Ç—å –≤ —Ñ–æ–Ω–µ –Ω–∞ Windows –∏ Linux?
6. –ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å –ü–û–õ–ù–´–ô —Ä–∞–±–æ—á–∏–π –∫–æ–¥ –∞–≥–µ–Ω—Ç–∞

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –§–æ–Ω–æ–≤—ã–π Python –∞–≥–µ–Ω—Ç/–¥–µ–º–æ–Ω
- –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
- –°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞ –¥–ª—è Windows/Linux
- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∞–º–æ–≥–æ –∞–≥–µ–Ω—Ç–∞

---

## üìä –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø

### –û–±—â–∏–µ –¥–ª—è –≤—Å–µ—Ö –∑–∞–¥–∞—á:
- ‚úÖ –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å production-ready
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –¥–µ–π—Å—Ç–≤–∏–π
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ retry –ª–æ–≥–∏–∫–∞
- ‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ .env —Ñ–∞–π–ª—ã
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∏ –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- ‚úÖ Unit —Ç–µ—Å—Ç—ã (–ø–æ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏)

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è:
- –í—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–æ–ª–∂–Ω—ã —Ä–∞–±–æ—Ç–∞—Ç—å –≤–º–µ—Å—Ç–µ
- –ï–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –û–±—â–∞—è –ø–∞–ø–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ (ai_audit_results/)
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º MCP —Å–µ—Ä–≤–µ—Ä–æ–º

---

## üéØ –ò–¢–û–ì–û–í–´–ï –í–û–ü–†–û–°–´

1. **–†–µ–∞–ª–∏–∑—É–µ–º–æ –ª–∏ —ç—Ç–æ –≤—Å–µ —Å–∏–ª–∞–º–∏ DeepSeek?** 
   - –ö–∞–∫–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è?
   - –ö–∞–∫–∏–µ —Ä–∏—Å–∫–∏?
   - –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã?

2. **–ö–∞–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –ª—É—á—à–µ?**
   - –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –∞–≥–µ–Ω—Ç vs –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã?
   - Sync vs async –æ–±—Ä–∞–±–æ—Ç–∫–∞?
   - Centralized vs distributed logging?

3. **–ö–∞–∫ –æ–±–µ—Å–ø–µ—á–∏—Ç—å –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç—å?**
   - Restart –ø—Ä–∏ —Å–±–æ—è—Ö
   - Healthcheck endpoints
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∞–º–∏—Ö –∞–≥–µ–Ω—Ç–æ–≤

4. **–û—Ü–µ–Ω–∫–∞ —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç:**
   - –°–∫–æ–ª—å–∫–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –∫–∞–∂–¥—É—é –∑–∞–¥–∞—á—É?
   - –ö–∞–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –Ω—É–∂–Ω—ã?
   - –ö–∞–∫–∏–µ —Ç–µ—Å—Ç—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã?

---

## üìù –û–ñ–ò–î–ê–ï–ú–´–ô –û–¢–í–ï–¢

–ü—Ä–µ–¥–æ—Å—Ç–∞–≤—å:

1. **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ** (–¥–∏–∞–≥—Ä–∞–º–º—ã, –æ–ø–∏—Å–∞–Ω–∏–µ)
2. **–ü–û–õ–ù–´–ô —Ä–∞–±–æ—á–∏–π –∫–æ–¥** –¥–ª—è –∫–∞–∂–¥–æ–π –∑–∞–¥–∞—á–∏ (–Ω–µ –ø—Å–µ–≤–¥–æ–∫–æ–¥!)
3. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã** (.env –ø—Ä–∏–º–µ—Ä—ã, YAML)
4. **–°–∫—Ä–∏–ø—Ç—ã –∑–∞–ø—É—Å–∫–∞** (start_agent.ps1, start_agent.sh)
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é** –ø–æ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é
6. **–û—Ü–µ–Ω–∫—É —Ç—Ä—É–¥–æ–∑–∞—Ç—Ä–∞—Ç** –∏ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º

**–í–ê–ñ–ù–û:** –ö–æ–¥ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≥–æ—Ç–æ–≤ –∫ –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é, –±–µ–∑ TODO –∏ –∑–∞–≥–ª—É—à–µ–∫!

---

–ù–∞—á–∏–Ω–∞–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫—É! –Ø –≥–æ—Ç–æ–≤ –ø–æ–ª—É—á–∏—Ç—å –¥–µ—Ç–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ.
"""

    print("="*80)
    print("ü§ñ –û–¢–ü–†–ê–í–ö–ê –ó–ê–ü–†–û–°–ê –í DEEPSEEK")
    print("="*80)
    print("\n–ó–∞–ø—Ä–æ—Å –∫ DeepSeek –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏...")
    print("–û–∂–∏–¥–∞–µ–º–æ–µ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞: 1-3 –º–∏–Ω—É—Ç—ã\n")
    
    response = await ask_deepseek(prompt)
    
    answer = response["choices"][0]["message"]["content"]
    
    # –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞
    timestamp = datetime.now().strftime("%Y%m%d_%H%M%S")
    output_file = OUTPUT_DIR / f"deepseek_automation_solution_{timestamp}.md"
    
    output_file.write_text(
        f"""# ü§ñ –†–ï–®–ï–ù–ò–ï DEEPSEEK: –°–ò–°–¢–ï–ú–ê –ê–í–¢–û–ú–ê–¢–ò–ó–ê–¶–ò–ò

**–î–∞—Ç–∞**: {datetime.now().strftime("%Y-%m-%d %H:%M:%S")}  
**–ó–∞–ø—Ä–æ—Å**: –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤, —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤–∫–∞ –∫–ª—é—á–µ–π, —Ñ–æ–Ω–æ–≤—ã–π –∞—É–¥–∏—Ç-–∞–≥–µ–Ω—Ç

---

{answer}

---

*–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–æ DeepSeek API*
""",
        encoding="utf-8"
    )
    
    print("="*80)
    print("‚úÖ –û–¢–í–ï–¢ –ü–û–õ–£–ß–ï–ù –û–¢ DEEPSEEK!")
    print("="*80)
    print(f"\nüìÅ –†–µ–∑—É–ª—å—Ç–∞—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω –≤: {output_file.name}")
    print(f"üìä –î–ª–∏–Ω–∞ –æ—Ç–≤–µ—Ç–∞: {len(answer)} —Å–∏–º–≤–æ–ª–æ–≤")
    print("\n" + "="*80)
    print("–ö–†–ê–¢–ö–ê–Ø –°–í–û–î–ö–ê –û–¢–í–ï–¢–ê:")
    print("="*80)
    print(answer[:2000])  # –ü–µ—Ä–≤—ã–µ 2000 —Å–∏–º–≤–æ–ª–æ–≤
    print("\n... (–ø–æ–ª–Ω—ã–π –æ—Ç–≤–µ—Ç –≤ —Ñ–∞–π–ª–µ)")
    print("="*80)


if __name__ == "__main__":
    asyncio.run(main())
