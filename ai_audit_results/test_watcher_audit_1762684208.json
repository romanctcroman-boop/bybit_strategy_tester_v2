{
  "timestamp": 1762684208,
  "changed_files": [
    "backend\\scaling\\redis_consumer_groups.py",
    "backend\\migrations\\versions\\add_reasoning_traces.py",
    "backend\\api\\routers\\__init__.py",
    "backend\\migrations\\versions\\add_tournament_tables.py",
    "backend\\middleware\\rate_limiter.py",
    "backend\\scaling\\celery_integration.py",
    "backend\\services\\candle_cache.py",
    "backend\\services\\strategy_arena.py",
    "backend\\services\\ml_hpa_monitor.py",
    "backend\\indicators\\rsi.py",
    "backend\\security\\secure_storage.py",
    "backend\\api\\routers\\wizard.py",
    "backend\\security\\crypto.py",
    "backend\\services\\saga_orchestrator.py",
    "backend\\scripts\\restore_database.py",
    "backend\\api\\lru_ttl_cache.py",
    "backend\\migrations\\versions\\20251108_merge_triple_heads.py",
    "backend\\migrations\\versions\\add_saga_tables.py",
    "backend\\examples\\test_integrated_app.py",
    "backend\\utils\\formatting.py",
    "backend\\api\\deepseek_pool.py",
    "backend\\celery_app.py",
    "backend\\visualization\\__init__.py",
    "backend\\models\\data_types.py",
    "backend\\auth\\jwt_bearer.py",
    "backend\\api\\routers\\bots.py",
    "backend\\examples\\aggressive_rate_test.py",
    "backend\\optimization\\monte_carlo.py",
    "backend\\sandbox\\__init__.py",
    "backend\\api\\parallel_deepseek_client_v2.py",
    "backend\\services\\code_executor.py",
    "backend\\models\\backfill_progress.py",
    "backend\\api\\app.py",
    "backend\\security\\jwt_manager.py",
    "backend\\examples\\debug_jwt.py",
    "backend\\visualization\\demo_charts.py",
    "backend\\examples\\simple_api_test.py",
    "backend\\security\\key_rotation.py",
    "backend\\services\\demo_csv_export.py",
    "backend\\strategies\\sr_mean_reversion.py",
    "backend\\scripts\\backup_database.py",
    "backend\\examples\\quick_rate_limit_test.py",
    "backend\\scaling\\health_checks.py",
    "backend\\services\\backup_service.py",
    "backend\\database\\pool_monitor.py",
    "backend\\migrations\\env.py",
    "backend\\migrations\\versions\\20251029_add_interval_to_kline_audit.py",
    "backend\\optimization\\walk_forward.py",
    "automation\\deepseek_robot\\analyze_perplexity_architecture.py",
    "backend\\ml\\optimizer.py",
    "backend\\services\\archival_service.py",
    "backend\\services\\k8s_automl_manager.py",
    "backend\\api\\routers\\mock_backtests.py",
    "automation\\metrics\\__init__.py",
    "backend\\security\\logging_middleware.py",
    "backend\\ml\\model_manager.py",
    "backend\\services\\saga_orchestrator_v2.py",
    "backend\\strategies\\support_resistance.py",
    "backend\\cache\\cache_manager.py",
    "backend\\services\\ab_testing_service.py",
    "backend\\database\\models\\reasoning_trace.py",
    "backend\\examples\\manual_test.py",
    "automation\\deepseek_robot\\test_advanced_integration.py",
    "backend\\security\\master_key_manager.py",
    "backend\\strategies\\sr_rsi_strategy.py",
    "backend\\migrations\\versions\\20251020_add_bybit_kline_audit.py",
    "automation\\task1_test_watcher\\test_watcher.py",
    "backend\\migrations\\versions\\20251022_backfill_open_time_dt.py",
    "backend\\api\\task_queue_refactored.py",
    "automation\\deepseek_code_agent\\code_agent_cli.py",
    "backend\\api\\routers\\admin.py",
    "backend\\scaling\\dynamic_worker_scaling.py",
    "backend\\api\\routers\\security.py",
    "backend\\services\\adapters\\bybit_async.py",
    "backend\\ml\\market_regime_detector.py",
    "backend\\api\\routers\\strategies.py",
    "automation\\metrics\\custom_metrics.py",
    "backend\\models\\task.py",
    "backend\\config.py",
    "backend\\security\\__init__.py",
    "backend\\migrations\\versions\\perf_indexes_001_add_performance_indexes.py",
    "backend\\services\\reasoning_storage.py",
    "backend\\services\\adapters\\binance.py",
    "backend\\core\\code_validator.py",
    "backend\\tasks\\backfill_tasks.py",
    "backend\\core\\backtest_engine.py",
    "automation\\deepseek_robot\\autonomous_agent_test.py",
    "backend\\core\\json_rpc_protocol.py",
    "backend\\middleware\\__init__.py",
    "backend\\api\\routers\\backups.py",
    "backend\\services\\report_generator.py",
    "automation\\task2_key_manager\\test_key_manager.py",
    "backend\\models\\bybit_kline_audit.py",
    "backend\\core\\walk_forward_optimizer.py",
    "backend\\api\\routers\\reasoning.py",
    "backend\\tasks\\backtest_tasks.py",
    "backend\\services\\data_service.py",
    "backend\\visualization\\advanced_charts.py",
    "backend\\api\\routers\\dashboard.py",
    "backend\\health_checks.py",
    "backend\\ml\\optuna_optimizer.py",
    "backend\\models\\__init__.py",
    "backend\\api\\routers\\ai.py",
    "backend\\core\\walkforward.py",
    "backend\\security\\key_manager.py",
    "backend\\api\\routers\\backtests.py",
    "backend\\scaling\\__init__.py",
    "backend\\database\\batch_writer.py",
    "backend\\api\\parallel_deepseek_client.py",
    "backend\\core\\logging_config.py",
    "automation\\deepseek_robot\\production_test.py",
    "backend\\models\\backfill_run.py",
    "backend\\sandbox\\security_validator.py",
    "backend\\security\\auth_middleware.py",
    "backend\\services\\adapters\\bybit.py",
    "backend\\api\\routers\\automl.py",
    "backend\\settings.py",
    "backend\\optimization\\grid_optimizer.py",
    "backend\\migrations\\versions\\1a2b3c4d5e6f_convert_timestamps_to_timestamptz.py",
    "backend\\migrations\\versions\\2f4e6a7b8c9d_autogen_convert_timestamps_to_timestamptz.py",
    "backend\\core\\engine_adapter.py",
    "automation\\metrics\\collectors\\audit_agent_collector.py",
    "automation\\deepseek_robot\\production_autonomous_agent.py",
    "backend\\core\\data_manager.py",
    "backend\\api\\routers\\metrics.py",
    "backend\\migrations\\versions\\20251020_merge_heads.py",
    "backend\\core\\retry.py",
    "backend\\strategies\\base.py",
    "automation\\sync_async_wrapper.py",
    "backend\\migrations\\versions\\20251021_add_backfill_runs.py",
    "backend\\examples\\secure_api_example.py",
    "backend\\services\\tournament_storage.py",
    "backend\\api\\routers\\lstm_predictions.py",
    "automation\\metrics\\prometheus_exporter.py",
    "backend\\examples\\test_security_suite.py",
    "backend\\ml\\retrain_scheduler.py",
    "backend\\ml\\lstm_queue_predictor.py",
    "backend\\cache\\pipeline_manager.py",
    "backend\\ml\\retrain_scheduler_runner.py",
    "backend\\sandbox\\sandbox_manager.py",
    "backend\\middleware\\cache_headers.py",
    "backend\\examples\\minimal_test_app.py",
    "backend\\core\\config.py",
    "backend\\core\\monte_carlo_simulator.py",
    "frontend\\node_modules\\plotly.js\\.circleci\\download_google_fonts.py",
    "backend\\services\\automl_service.py",
    "backend\\database\\models\\tournament.py",
    "backend\\cache\\metrics.py",
    "backend\\scaling\\load_balancer.py",
    "backend\\services\\anomaly_detection_service.py",
    "backend\\ml\\prompts.py",
    "backend\\scripts\\dr_automation.py",
    "backend\\ml\\__init__.py",
    "backend\\services\\task_worker.py",
    "backend\\api\\routers\\analytics_ws.py",
    "backend\\core\\redis_streams_queue.py",
    "backend\\services\\deepseek_agent.py",
    "backend\\api\\routers\\test.py",
    "backend\\api\\perplexity_client.py",
    "backend\\api\\routers\\sandbox.py",
    "backend\\cache\\redis_client.py",
    "backend\\cache\\warming.py",
    "backend\\security\\audit_logger.py",
    "automation\\deepseek_robot\\test_real_api.py",
    "backend\\api\\schemas.py",
    "backend\\models\\saga_checkpoint.py",
    "automation\\deepseek_robot\\ai_integrations.py",
    "backend\\ml\\drift_detector.py",
    "backend\\cache\\config.py",
    "backend\\orchestrator\\queue.py",
    "backend\\services\\saga_metrics.py",
    "backend\\agents\\__init__.py",
    "backend\\api\\routers\\active_deals.py",
    "backend\\services\\tournament_orchestrator.py",
    "backend\\database\\__init__.py",
    "backend\\scripts\\init_db.py",
    "backend\\api\\secure_key_storage.py",
    "backend\\services\\mtf_manager.py",
    "backend\\api\\routers\\tournament.py",
    "backend\\sandbox\\resource_limiter.py",
    "backend\\sandbox\\docker_sandbox.py",
    "backend\\services\\data_manager.py",
    "backend\\agents\\deepseek.py",
    "automation\\deepseek_robot\\demo.py",
    "backend\\tasks\\optimize_tasks.py",
    "automation\\deepseek_robot\\test_memory_leaks.py",
    "backend\\optimization\\monte_carlo_simulator.py",
    "automation\\deepseek_robot\\demo_advanced_architecture.py",
    "backend\\core\\metrics.py",
    "backend\\security\\sandbox_executor.py",
    "automation\\deepseek_robot\\api_clients.py",
    "automation\\deepseek_robot\\dual_analytics_engine.py",
    "backend\\services\\bybit_ws_manager.py",
    "backend\\migrations\\versions\\add_reasoning_kb_001.py",
    "automation\\task2_key_manager\\encrypt_secrets.py",
    "backend\\migrations\\helpers\\timestamptz_helpers.py",
    "automation\\metrics\\collectors\\test_watcher_collector.py",
    "backend\\api\\middleware\\rate_limit.py",
    "backend\\api\\routers\\anomaly_detection.py",
    "backend\\api\\routers\\marketdata.py",
    "automation\\metrics\\collectors\\__init__.py",
    "automation\\task3_audit_agent\\audit_agent.py",
    "backend\\api\\circuit_breaker.py",
    "backend\\api\\routers\\optimizations.py",
    "backend\\migrations\\versions\\0001_convert_timestamps_to_timestamptz.py",
    "backend\\services\\sandbox_executor.py",
    "backend\\services\\slack_service.py",
    "automation\\deepseek_robot\\check_config.py",
    "backend\\api\\routers\\cache.py",
    "backend\\security\\ast_validator.py",
    "backend\\security\\rbac_manager.py",
    "automation\\deepseek_code_agent\\code_agent.py",
    "automation\\task3_audit_agent\\config.py",
    "backend\\orchestrator\\saga.py",
    "backend\\scripts\\test_dr_system.py",
    "backend\\indicators\\__init__.py",
    "backend\\services\\backfill_service.py",
    "backend\\migrations\\versions\\20251107_merge_all_heads.py",
    "backend\\migrations\\versions\\20251022_consolidate_heads.py",
    "backend\\cache\\decorators.py",
    "backend\\core\\cache.py",
    "backend\\services\\pagerduty_service.py",
    "backend\\app.py",
    "backend\\services\\task_queue.py",
    "backend\\security\\rate_limiter.py",
    "backend\\orchestrator\\__init__.py",
    "backend\\strategies\\factory.py",
    "backend\\security\\secure_logger.py",
    "backend\\optimization\\walk_forward_optimizer.py",
    "backend\\strategies\\bollinger_mean_reversion.py",
    "backend\\core\\saga_fsm.py",
    "backend\\models\\saga_audit_log.py",
    "automation\\task2_key_manager\\key_manager.py",
    "backend\\utils\\__init__.py",
    "backend\\utils\\password.py",
    "backend\\api\\routers\\live.py",
    "automation\\deepseek_robot\\advanced_architecture.py",
    "backend\\api\\deepseek_client.py",
    "backend\\api\\routers\\health.py",
    "automation\\safe_async_bridge.py",
    "backend\\core\\bayesian.py",
    "automation\\task1_test_watcher\\test_watcher_parallel.py",
    "backend\\services\\user_service.py",
    "automation\\deepseek_robot\\robot.py",
    "backend\\core\\exceptions.py",
    "backend\\strategies\\__init__.py",
    "backend\\workers\\automl_worker.py",
    "automation\\metrics\\collectors\\system_collector.py",
    "backend\\api\\routers\\ab_testing.py",
    "backend\\optimization\\__init__.py",
    "backend\\api\\deepseek_pool_refactored.py"
  ],
  "test_results": {
    "pytest_exit_code": -1,
    "coverage_total": 0,
    "coverage_by_file": {},
    "timestamp": 1762684185.6503258,
    "success": false,
    "error": "'CoverageData' object has no attribute 'covered_lines'"
  },
  "analysis_results": {
    "analysis": "## Test Quality Assessment\n**CRITICAL FAILURE** - Tests are completely broken:\n- Exit code -1 indicates catastrophic failure (likely unhandled exception or system error)\n- 0% coverage suggests tests aren't even executing properly\n- No coverage data available for analysis\n\n## Coverage Analysis & Gaps\n**COMPLETE COVERAGE FAILURE:**\n- Zero test execution across all 200+ files\n- No meaningful coverage data to analyze\n- All critical paths (security, database, ML, APIs) completely untested\n\n## Potential Issues with Recent Changes\n1. **Database Migration Conflicts**: Multiple timestamp conversion migrations (`1a2b3c4d5e6f_convert_timestamps_to_timestamptz.py`, `2f4e6a7b8c9d_autogen_convert_timestamps_to_timestamptz.py`) suggest schema conflicts\n2. **Security System Overhaul**: JWT, key management, and authentication changes could break test environment setup\n3. **Architecture Changes**: Saga orchestrator v2, parallel deepseek clients, and celery integration likely introduced breaking changes\n4. **Dependency Issues**: Redis, Celery, or database connections failing in test environment\n\n## Immediate Action Plan\n\n**HIGH PRIORITY - FIX TEST INFRASTRUCTURE:**\n1. **Check test environment setup** - database connections, Redis, Celery workers\n2. **Run minimal test** (`backend\\examples\\minimal_test_app.py`) to isolate the crash\n3. **Verify migration state** - ensure database is in consistent state\n4. **Check for circular imports** - common issue with large codebase refactoring\n\n**MEDIUM PRIORITY - RESTORE TEST COVERAGE:**\n1. Start with core modules: `backend\\core\\`, `backend\\api\\routers\\`, `backend\\services\\`\n2. Focus on security-critical paths first: JWT, authentication, crypto\n3. Add integration tests for database operations and external APIs\n\n## Risk Assessment\n**CRITICAL RISKS:**\n- **Security vulnerabilities** undetected (JWT, crypto, authentication)\n- **Data corruption** potential from untested database operations\n- **Production failures** likely due to completely untested code changes\n- **Financial impact** high (trading systems, ML predictions)\n\n**RECOMMENDATION:** **Halt all feature development immediately** until basic test infrastructure is restored. Current state represents unacceptable risk for deployment.",
    "model": "deepseek-chat",
    "usage": {
      "prompt_tokens": 3126,
      "completion_tokens": 523,
      "total_tokens": 3649,
      "prompt_tokens_details": {
        "cached_tokens": 64
      },
      "prompt_cache_hit_tokens": 64,
      "prompt_cache_miss_tokens": 3062
    },
    "success": true
  },
  "metadata": {
    "watch_path": "D:\\bybit_strategy_tester_v2",
    "debounce_seconds": 20
  }
}