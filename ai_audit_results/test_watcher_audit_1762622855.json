{
  "timestamp": 1762622855,
  "changed_files": [
    "test_activity_logger_debug.py",
    "fix_analysis_tools_indentation.py",
    "backend\\services\\code_executor.py",
    "test_logging_coverage.py",
    "add_logging_to_all_tools.py",
    "backend\\api\\task_queue_refactored.py",
    "test_unified_providers.py",
    "backend\\api\\routers\\lstm_predictions.py",
    "backend\\database\\batch_writer.py",
    "quick_fix_remaining.py",
    "test_logging_simple.py",
    "mass_add_logging.py",
    "tests\\integration\\test_worker_heartbeat.py",
    "backend\\services\\saga_metrics.py",
    "backend\\services\\task_queue.py",
    "backend\\services\\task_worker.py",
    "backend\\api\\deepseek_pool_refactored.py",
    "test_ai_reasoning.py",
    "tests\\integration\\test_code_executor.py",
    "batch_add_logging.py",
    "backend\\services\\saga_orchestrator_v2.py",
    "backend\\services\\k8s_automl_manager.py",
    "backend\\models\\saga_checkpoint.py",
    "scripts\\fix_redis_close.py",
    "tests\\integration\\test_saga_pattern.py",
    "test_activity_logger.py",
    "tests\\integration\\test_saga_production.py",
    "add_logging_wrapper.py",
    "ai_ai_full_collaboration.py",
    "tests\\integration\\test_code_executor_validation.py",
    "backend\\workers\\automl_worker.py",
    "backend\\services\\ml_hpa_monitor.py",
    "scripts\\fix_datetime_deprecation.py",
    "tests\\integration\\test_deepseek_agent.py",
    "fix_analysis_indentation.py",
    "backend\\api\\routers\\anomaly_detection.py",
    "backend\\api\\routers\\ab_testing.py",
    "final_batch_logging.py",
    "backend\\api\\routers\\analytics_ws.py",
    "final_mass_logging.py",
    "backend\\services\\ab_testing_service.py",
    "backend\\services\\anomaly_detection_service.py",
    "backend\\migrations\\versions\\add_saga_tables.py",
    "test_ai_collaboration.py",
    "test_mcp_logging.py",
    "backend\\services\\saga_orchestrator.py",
    "test_ai_full_cycle.py",
    "test_deepseek_and_perplexity.py",
    "backend\\api\\routers\\automl.py",
    "inject_logging_to_all.py",
    "add_logging_to_tools.py",
    "backend\\services\\automl_service.py",
    "test_sandbox_debug.py",
    "test_mcp_tools_direct.py",
    "tests\\__init__.py",
    "add_minimal_logging.py",
    "tests\\test_deepseek_agent.py",
    "tests\\test_helm_chart.py",
    "test_mcp_comprehensive.py",
    "tests\\test_api_providers.py",
    "tests\\integration\\test_week3_e2e_pipeline.py",
    "backend\\models\\saga_audit_log.py",
    "tests\\integration\\test_task_queue.py",
    "test_server_integration.py",
    "backend\\services\\deepseek_agent.py",
    "test_deepseek_api.py",
    "ask_ai_about_warnings.py",
    "find_tools_without_logging.py",
    "test_logging_with_api.py",
    "tests\\integration\\test_cluster_monitoring.py",
    "test_mcp_integration.py",
    "backend\\models\\task.py"
  ],
  "test_results": {
    "pytest_exit_code": -1,
    "coverage_total": 0,
    "coverage_by_file": {},
    "timestamp": 1762622834.5910912,
    "success": false,
    "error": "'CoverageData' object has no attribute 'covered_lines'"
  },
  "analysis_results": {
    "analysis": "Based on the test results, here are the key insights:\n\n## 1. Test Quality Assessment\n**CRITICAL FAILURE** - Tests are completely broken:\n- Exit code -1 indicates catastrophic failure (likely unhandled exceptions)\n- 0% coverage suggests tests aren't even running to completion\n- Recent mass logging additions may have introduced systemic issues\n\n## 2. Coverage Analysis\n**COMPLETE COVERAGE BREAKDOWN**\n- No coverage data collected due to test execution failure\n- This is more severe than low coverage - tests are non-functional\n\n## 3. Potential Issues with Recent Changes\n**Primary Suspects:**\n- **Mass logging injections** (`mass_add_logging.py`, `batch_add_logging.py`, etc.) likely broke imports or created circular dependencies\n- **Refactored files** (`task_queue_refactored.py`, `deepseek_pool_refactored.py`) may have interface changes\n- **Multiple saga orchestrator versions** could indicate incomplete migrations\n\n## 4. Immediate Recommendations\n\n**HIGH PRIORITY:**\n1. **Roll back logging changes** - revert the mass logging additions first\n2. **Run tests individually** to identify which specific test is failing\n3. **Check import chains** - focus on recently modified core services\n4. **Validate dependency injection** in refactored components\n\n**MEDIUM PRIORITY:**\n5. **Fix test infrastructure** before addressing coverage\n6. **Consolidate saga orchestrators** - remove version conflicts\n7. **Add integration test staging** to prevent mass breakages\n\n## 5. Risk Assessment\n**HIGH RISK** - Production deployment would fail:\n- Core functionality untested\n- Recent changes appear untested before commit\n- Multiple concurrent refactoring efforts creating instability\n\n**FIRST ACTION:** Identify the root cause of test execution failure by running tests with `-v` flag and examining stack traces. The logging injection campaign appears to be the most likely culprit.",
    "model": "deepseek-chat",
    "usage": {
      "prompt_tokens": 881,
      "completion_tokens": 409,
      "total_tokens": 1290,
      "prompt_tokens_details": {
        "cached_tokens": 64
      },
      "prompt_cache_hit_tokens": 64,
      "prompt_cache_miss_tokens": 817
    },
    "success": true
  },
  "metadata": {
    "watch_path": "D:\\bybit_strategy_tester_v2",
    "debounce_seconds": 20
  }
}