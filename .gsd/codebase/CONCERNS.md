# Known Concerns & Technical Debt

> Auto-generated by GSD Bootstrap — 2026-02-18

## ⚠️ Linting: 2,677 Ruff Errors

Last scan: `ruff check . --statistics`

| Rule   | Count | Description                        | Severity |
| ------ | ----- | ---------------------------------- | -------- |
| RUF001 | 740   | Ambiguous unicode char (string)    | Low      |
| RUF002 | 486   | Ambiguous unicode char (docstring) | Low      |
| RUF003 | 376   | Ambiguous unicode char (comment)   | Low      |
| W291   | 152   | Trailing whitespace                | Low      |
| SIM108 | 110   | Use ternary operator               | Low      |
| SIM102 | 102   | Collapsible if statements          | Low      |
| W293   | 76    | Whitespace before indentation      | Low      |
| RUF059 | 72    | Unused parameter                   | Medium   |
| B007   | 67    | Unused loop variable               | Low      |
| RUF013 | 67    | Implicit Optional                  | Medium   |

**Assessment:** ~1,600 errors (60%) are unicode/whitespace — cosmetic and auto-fixable with `ruff check --fix`. ~400 errors (RUF059, RUF013) represent real code quality issues.

**Recommended action:** Run `ruff check . --fix` for auto-fixable issues first, then address RUF059/RUF013 manually.

## ⚠️ Deprecation Warning

```
DeprecationWarning: backend.agents.llm.connections
```

Found during `pytest --co`. The `backend.agents.llm.connections` module uses deprecated APIs.

## ⚠️ Strategy Location Split

- **1 strategy** in `backend/backtesting/strategies/` (momentum_rsi_ema.py)
- **11 strategies** in `backend/services/strategies/` (the actual library)

This split may confuse new contributors. The `backtesting/strategies/` folder appears to be a legacy location while `services/strategies/` is the canonical home.

**Recommendation:** Consider consolidating or clearly documenting the distinction.

## ⚠️ Universal Engine Scope Creep

`backend/backtesting/universal_engine/` contains **33 modules** covering:

- Core engine logic
- GPU acceleration
- Reinforcement learning
- Sentiment analysis
- Options strategies
- Order book analysis
- Risk parity
- Multi-exchange support
- And more...

This is far broader than the core backtesting scope and may contain experimental/incomplete code.

**Recommendation:** Audit which modules are production-ready vs experimental.

## ⚠️ Test Coverage Gap

- **179 test files** but only **169 tests collected**
- Some test files may be empty or have collection issues
- Coverage target: 80% overall, 95% for engines — current coverage unknown

**Recommendation:** Run `pytest --cov=backend` to establish baseline coverage.

## ⚠️ Frontend Scale

- **3,178 JS files** — likely includes `node_modules/` and `libs/` bundled dependencies
- **51 HTML pages** — significant frontend surface area
- Main logic in `strategy_builder.js` (~3,000 lines) — potential refactoring target

**Recommendation:** Verify JS count excludes vendored libraries; consider splitting strategy_builder.js.

## ⚠️ Large Router Count

- **79 router files** serving **753 routes**
- Some routers may have overlapping or redundant endpoints

**Recommendation:** API audit to identify unused/duplicate routes.

## ℹ️ High-Risk Variables (from project docs)

These variables are referenced across 10+ files — changes require full impact analysis:

| Variable          | Files | Risk                              |
| ----------------- | ----- | --------------------------------- |
| `commission_rate` | 10+   | TradingView parity — NEVER change |
| `strategy_params` | all   | Strategy, optimizer, UI           |
| `initial_capital` | 5+    | Engine, metrics, UI               |

## ℹ️ Items NOT Concerns

- VS Code extension errors (`$ref '/contributes...pgsql...'`) — false positives, ignore
- `Matches multiple schemas` errors — VS Code extension noise
