# üß™ AI Agent Test: RSI & MACD Filter Knowledge

> **–¢–µ—Å—Ç –¥–ª—è AI-–∞–≥–µ–Ω—Ç–æ–≤:** DeepSeek, Qwen, Perplexity
> **–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–Ω–∏–º–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤ RSI –∏ MACD,
> –∏—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.
> **–î–∞—Ç–∞:** 2026-02-15

---

## üìã –ß–ê–°–¢–¨ 1: RSI –§–ò–õ–¨–¢–† ‚Äî –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ù–∞–∑–≤–∞–Ω–∏–µ –±–ª–æ–∫–∞:** `RSI - [IN RANGE FILTER OR CROSS SIGNAL]`
**–¢–∏–ø:** –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä (`indicator_type == "rsi"`)
**–í—ã—Ö–æ–¥–Ω—ã–µ –ø–æ—Ä—Ç—ã:** `value` (—Å–µ—Ä–∏—è RSI 0-100), `long` (–±—É–ª–µ–≤—ã–π —Å–∏–≥–Ω–∞–ª), `short` (–±—É–ª–µ–≤—ã–π —Å–∏–≥–Ω–∞–ª)

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã RSI

RSI –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **3 –æ—Å–Ω–æ–≤–Ω—ã—Ö —Ä–µ–∂–∏–º–∞**, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–º–±–∏–Ω–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ **AND** –ª–æ–≥–∏–∫—É:

| #   | –†–µ–∂–∏–º                    | –ê–∫—Ç–∏–≤–∞—Ü–∏—è                                               | –û–ø–∏—Å–∞–Ω–∏–µ                                                  |
| --- | ------------------------ | ------------------------------------------------------- | --------------------------------------------------------- |
| 1   | **Range Filter**         | `use_long_range=true` / `use_short_range=true`          | –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ ‚Äî True –ø–æ–∫–∞ RSI –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ           |
| 2   | **Cross Level**          | `use_cross_level=true`                                  | –°–æ–±—ã—Ç–∏–π–Ω—ã–π —Å–∏–≥–Ω–∞–ª ‚Äî True —Ç–æ–ª—å–∫–æ –Ω–∞ –±–∞—Ä–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è       |
| 3   | **Legacy** (–∞–≤—Ç–æ—Ñ–æ–ª–ª–±—ç–∫) | –ù–∏ –æ–¥–∏–Ω —Ä–µ–∂–∏–º –Ω–µ –≤–∫–ª—é—á—ë–Ω + –µ—Å—Ç—å `overbought`/`oversold` | –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π RSI: < oversold ‚Üí long, > overbought ‚Üí short |
| 4   | **Passthrough**          | –ù–∏—á–µ–≥–æ –Ω–µ –≤–∫–ª—é—á–µ–Ω–æ                                      | RSI –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö, long/short = True –≤—Å–µ–≥–¥–∞         |

**–í–∞–∂–Ω–æ:** –ö–æ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω—ã Range + Cross –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ, –∏—Ç–æ–≥–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª = `Range AND Cross` (–æ–±–∞ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å True).

---

### 1.1 –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä         | UI Label                         | –¢–∏–ø      | Default   | –û–ø–∏—Å–∞–Ω–∏–µ                                            |
| ---------------- | -------------------------------- | -------- | --------- | --------------------------------------------------- |
| `period`         | RSI TF Long(14)                  | number   | **14**    | –ü–µ—Ä–∏–æ–¥ —Ä–∞—Å—á—ë—Ç–∞ RSI (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π)              |
| `timeframe`      | RSI TimeFrame                    | select   | **Chart** | –¢–∞–π–º—Ñ—Ä–µ–π–º –¥–∞–Ω–Ω—ã—Ö (Chart = —Ç–µ–∫—É—â–∏–π)                  |
| `use_btc_source` | Use BTCUSDT as Source for RSI 1? | checkbox | **false** | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å RSI –æ—Ç BTCUSDT –≤–º–µ—Å—Ç–æ —Ç–µ–∫—É—â–µ–≥–æ —Å–∏–º–≤–æ–ª–∞ |

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `period`:** RSI —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø–æ —Ñ–æ—Ä–º—É–ª–µ Wilder –Ω–∞ N –ø–æ—Å–ª–µ–¥–Ω–∏—Ö —Å–≤–µ—á–∞—Ö. –ß–µ–º –±–æ–ª—å—à–µ –ø–µ—Ä–∏–æ–¥, —Ç–µ–º –±–æ–ª–µ–µ —Å–≥–ª–∞–∂–µ–Ω–Ω—ã–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä. –¢–∏–ø–∏—á–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è: 7 (–∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–π), 14 (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π), 21 (–∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω—ã–π).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `use_btc_source`:** –í–º–µ—Å—Ç–æ RSI —Ç–µ–∫—É—â–µ–π –º–æ–Ω–µ—Ç—ã, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è RSI –±–∏—Ç–∫–æ–∏–Ω–∞. –õ–æ–≥–∏–∫–∞: BTC –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ–±—â–µ–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ —Ä—ã–Ω–∫–∞ ‚Äî –∫–æ–≥–¥–∞ RSI BTC –≤ –∑–æ–Ω–µ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç–∏, –º–æ–∂–Ω–æ –≤—Ö–æ–¥–∏—Ç—å –≤ –ª–æ–Ω–≥ –Ω–∞ –∞–ª—å—Ç–∫–æ–∏–Ω–∞—Ö.

---

### 1.2 Range Filter ‚Äî –î–∏–∞–ø–∞–∑–æ–Ω–Ω—ã–π —Ñ–∏–ª—å—Ç—Ä

#### LONG Range

| –ü–∞—Ä–∞–º–µ—Ç—Ä         | UI Label           | –¢–∏–ø      | Default   | –û–ø–∏—Å–∞–Ω–∏–µ                                       |
| ---------------- | ------------------ | -------- | --------- | ---------------------------------------------- |
| `use_long_range` | Use RSI LONG Range | checkbox | **false** | –í–∫–ª—é—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–ª—è LONG             |
| `long_rsi_more`  | (LONG) RSI is More | number   | **30**    | –ù–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ ‚Äî RSI –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ë–û–õ–¨–®–ï —ç—Ç–æ–≥–æ  |
| `long_rsi_less`  | & RSI Less         | number   | **70**    | –í–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ ‚Äî RSI –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ú–ï–ù–¨–®–ï —ç—Ç–æ–≥–æ |

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –†–∞–∑—Ä–µ—à–∞–µ—Ç LONG —Å–∏–≥–Ω–∞–ª —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ `RSI > long_rsi_more AND RSI < long_rsi_less`.

**–ü—Ä–∏–º–µ—Ä:** `long_rsi_more=30, long_rsi_less=70` ‚Üí LONG —Ä–∞–∑—Ä–µ—à—ë–Ω –∫–æ–≥–¥–∞ RSI –º–µ–∂–¥—É 30 –∏ 70.

**–ü—Ä–∞–∫—Ç–∏–∫–∞:** –î–ª—è –∑–æ–Ω—ã –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç–∏: `long_rsi_more=1, long_rsi_less=30` ‚Äî –≤—Ö–æ–¥–∏–º –≤ LONG –∫–æ–≥–¥–∞ RSI –≤ –∑–æ–Ω–µ 1-30 (–ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç—å).

#### SHORT Range

| –ü–∞—Ä–∞–º–µ—Ç—Ä          | UI Label            | –¢–∏–ø      | Default   | –û–ø–∏—Å–∞–Ω–∏–µ                                       |
| ----------------- | ------------------- | -------- | --------- | ---------------------------------------------- |
| `use_short_range` | Use RSI SHORT Range | checkbox | **false** | –í–∫–ª—é—á–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä –¥–∏–∞–ø–∞–∑–æ–Ω–∞ –¥–ª—è SHORT            |
| `short_rsi_less`  | (SHORT) RSI is Less | number   | **70**    | –í–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ ‚Äî RSI –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ú–ï–ù–¨–®–ï —ç—Ç–æ–≥–æ |
| `short_rsi_more`  | & RSI More          | number   | **30**    | –ù–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ ‚Äî RSI –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ë–û–õ–¨–®–ï —ç—Ç–æ–≥–æ  |

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:** –†–∞–∑—Ä–µ—à–∞–µ—Ç SHORT —Å–∏–≥–Ω–∞–ª —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ `RSI < short_rsi_less AND RSI > short_rsi_more`.

**–ü—Ä–∏–º–µ—Ä:** `short_rsi_less=100, short_rsi_more=70` ‚Üí SHORT —Ä–∞–∑—Ä–µ—à—ë–Ω –∫–æ–≥–¥–∞ RSI –º–µ–∂–¥—É 70 –∏ 100 (–ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç—å).

**‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–æ:** `short_rsi_more` (–Ω–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞) –í–°–ï–ì–î–ê –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å < `short_rsi_less` (–≤–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞).

---

### 1.3 Cross Level ‚Äî –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ —É—Ä–æ–≤–Ω—è

| –ü–∞—Ä–∞–º–µ—Ç—Ä            | UI Label                                 | –¢–∏–ø      | Default   | –û–ø–∏—Å–∞–Ω–∏–µ                                      |
| ------------------- | ---------------------------------------- | -------- | --------- | --------------------------------------------- |
| `use_cross_level`   | Use RSI Cross Level                      | checkbox | **false** | –í–∫–ª—é—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è            |
| `cross_long_level`  | Level to Cross RSI for LONG              | number   | **30**    | –£—Ä–æ–≤–µ–Ω—å –¥–ª—è LONG: RSI –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö  |
| `cross_short_level` | Level to Cross RSI for SHORT             | number   | **70**    | –£—Ä–æ–≤–µ–Ω—å –¥–ª—è SHORT: RSI –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ |
| `opposite_signal`   | Opposite Signal - RSI Cross Level        | checkbox | **false** | –ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–∏–≥–Ω–∞–ª–æ–≤            |
| `use_cross_memory`  | Activate RSI Cross Signal Memory         | checkbox | **false** | –í–∫–ª—é—á–∏—Ç—å –ø–∞–º—è—Ç—å —Å–∏–≥–Ω–∞–ª–∞                       |
| `cross_memory_bars` | Keep RSI Cross Signal Memory for XX bars | number   | **5**     | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞—Ä–æ–≤ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–∏–≥–Ω–∞–ª–∞         |

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Cross Level:**

- **LONG:** RSI –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –±–∞—Ä–µ ‚â§ `cross_long_level`, –Ω–∞ —Ç–µ–∫—É—â–µ–º > `cross_long_level` ‚Üí —Å–∏–≥–Ω–∞–ª True
- **SHORT:** RSI –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –±–∞—Ä–µ ‚â• `cross_short_level`, –Ω–∞ —Ç–µ–∫—É—â–µ–º < `cross_short_level` ‚Üí —Å–∏–≥–Ω–∞–ª True
- –≠—Ç–æ **—Å–æ–±—ã—Ç–∏–π–Ω—ã–π** —Å–∏–≥–Ω–∞–ª ‚Äî True —Ç–æ–ª—å–∫–æ –Ω–∞ –æ–¥–Ω–æ–º –±–∞—Ä–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `opposite_signal`:**

- –ú–µ–Ω—è–µ—Ç –º–µ—Å—Ç–∞–º–∏ LONG –∏ SHORT —Å–∏–≥–Ω–∞–ª—ã
- –í–∫–ª—é—á–µ–Ω–æ: LONG –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ RSI –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç short_level –í–ù–ò–ó, SHORT ‚Äî –∫–æ–≥–¥–∞ RSI –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç long_level –í–í–ï–†–•
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–Ω—Ç—Ä-—Ç—Ä–µ–Ω–¥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Signal Memory:**

- –ë–µ–∑ –ø–∞–º—è—Ç–∏: —Å–∏–≥–Ω–∞–ª = True —Ç–æ–ª—å–∫–æ –Ω–∞ –±–∞—Ä–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è (1 –±–∞—Ä)
- –° –ø–∞–º—è—Ç—å—é (N –±–∞—Ä–æ–≤): —Å–∏–≥–Ω–∞–ª –æ—Å—Ç–∞—ë—Ç—Å—è True –µ—â—ë N –±–∞—Ä–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è
- –ü—Ä–∏–º–µ—Ä: `memory_bars=5` –Ω–∞ 15-–º–∏–Ω –≥—Ä–∞—Ñ–∏–∫–µ ‚Üí —Å–∏–≥–Ω–∞–ª –∞–∫—Ç–∏–≤–µ–Ω 5√ó15 = 75 –º–∏–Ω—É—Ç –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è
- –≠—Ç–æ –¥–∞—ë—Ç –¥—Ä—É–≥–∏–º —Ñ–∏–ª—å—Ç—Ä–∞–º –≤—Ä–µ–º—è "—Å–æ–≤–ø–∞—Å—Ç—å" —Å —Å–∏–≥–Ω–∞–ª–æ–º RSI

---

### 1.4 –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ (–õ–æ–≥–∏–∫–∞ AND)

```
–ò—Ç–æ–≥–æ–≤—ã–π LONG = long_range_condition AND long_cross_condition
–ò—Ç–æ–≥–æ–≤—ã–π SHORT = short_range_condition AND short_cross_condition
```

**–ü—Ä–∏–º–µ—Ä –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:**

- `use_long_range=true, long_rsi_more=20, long_rsi_less=50` ‚Äî RSI –≤ –∑–æ–Ω–µ 20-50
- `use_cross_level=true, cross_long_level=30, use_cross_memory=true, memory_bars=3`
- –†–µ–∑—É–ª—å—Ç–∞—Ç: LONG = True –∫–æ–≥–¥–∞ RSI –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 20-50 **–ò** RSI –ø–µ—Ä–µ—Å—ë–∫ —É—Ä–æ–≤–µ–Ω—å 30 –≤–≤–µ—Ä—Ö –≤ –ø–æ—Å–ª–µ–¥–Ω–∏—Ö 3 –±–∞—Ä–∞—Ö

---

### 1.5 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è RSI

–ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ –∫–Ω–æ–ø–∫–∏ **"Optimization"** –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –ø–∞–Ω–µ–ª—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏. –ö–∞–∂–¥—ã–π –æ–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º—ã–π –ø–∞—Ä–∞–º–µ—Ç—Ä –∏–º–µ–µ—Ç:

- **Checkbox** ‚Äî –≤–∫–ª—é—á–∏—Ç—å/–≤—ã–∫–ª—é—á–∏—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é —ç—Ç–æ–≥–æ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞
- **min** ‚Üí **max** / **step** ‚Äî –¥–∏–∞–ø–∞–∑–æ–Ω –ø–µ—Ä–µ–±–æ—Ä–∞

#### –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã RSI:

| –ü–∞—Ä–∞–º–µ—Ç—Ä            | Default Range | –û–ø–∏—Å–∞–Ω–∏–µ –≤ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏                   |
| ------------------- | ------------- | ---------------------------------------- |
| `period`            | 14 ‚Üí 14 / 1   | RSI TF Long(14)                          |
| `long_rsi_more`     | 30 ‚Üí 30 / 1   | (LONG) RSI is More                       |
| `long_rsi_less`     | 70 ‚Üí 70 / 1   | Long RSI Less                            |
| `short_rsi_less`    | 70 ‚Üí 70 / 1   | (SHORT) RSI is Less                      |
| `short_rsi_more`    | 30 ‚Üí 30 / 1   | Short RSI More                           |
| `cross_long_level`  | 30 ‚Üí 30 / 1   | Level to Cross RSI for LONG              |
| `cross_short_level` | 70 ‚Üí 70 / 1   | Level to Cross RSI for SHORT             |
| `cross_memory_bars` | 5 ‚Üí 5 / 1     | Keep RSI Cross Signal Memory for XX bars |

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

| –ü–∞—Ä–∞–º–µ—Ç—Ä            | min | max | step | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ                        |
| ------------------- | --- | --- | ---- | ---------------------------------- |
| `period`            | 5   | 30  | 1    | –û—Ç –∞–≥—Ä–µ—Å—Å–∏–≤–Ω–æ–≥–æ –¥–æ –∫–æ–Ω—Å–µ—Ä–≤–∞—Ç–∏–≤–Ω–æ–≥–æ |
| `long_rsi_more`     | 10  | 45  | 5    | –ù–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –∑–æ–Ω—ã –ø–æ–∫—É–ø–∫–∏        |
| `long_rsi_less`     | 55  | 90  | 5    | –í–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –∑–æ–Ω—ã –ø–æ–∫—É–ø–∫–∏       |
| `short_rsi_less`    | 55  | 90  | 5    | –í–µ—Ä—Ö–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –∑–æ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏       |
| `short_rsi_more`    | 10  | 45  | 5    | –ù–∏–∂–Ω—è—è –≥—Ä–∞–Ω–∏—Ü–∞ –∑–æ–Ω—ã –ø—Ä–æ–¥–∞–∂–∏        |
| `cross_long_level`  | 15  | 45  | 5    | –£—Ä–æ–≤–µ–Ω—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –¥–ª—è LONG       |
| `cross_short_level` | 55  | 85  | 5    | –£—Ä–æ–≤–µ–Ω—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –¥–ª—è SHORT      |
| `cross_memory_bars` | 1   | 20  | 1    | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏ —Å–∏–≥–Ω–∞–ª–∞        |

**–§–æ—Ä–º–∞—Ç —Ö—Ä–∞–Ω–µ–Ω–∏—è:** `block.optimizationParams[key] = { enabled: true/false, min: N, max: N, step: N }`

---

## üìã –ß–ê–°–¢–¨ 2: MACD –§–ò–õ–¨–¢–† ‚Äî –ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤

### –û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ù–∞–∑–≤–∞–Ω–∏–µ –±–ª–æ–∫–∞:** `MACD - [SIGNALS] (CROSS 0 LINE OR CROSS SIGNAL LINE)`
**–¢–∏–ø:** –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä (`indicator_type == "macd"`)
**–í—ã—Ö–æ–¥–Ω—ã–µ –ø–æ—Ä—Ç—ã:** `macd` (—Å–µ—Ä–∏—è), `signal` (—Å–µ—Ä–∏—è), `hist` (—Å–µ—Ä–∏—è), `long` (–±—É–ª–µ–≤—ã–π —Å–∏–≥–Ω–∞–ª), `short` (–±—É–ª–µ–≤—ã–π —Å–∏–≥–Ω–∞–ª)

### –†–µ–∂–∏–º—ã —Ä–∞–±–æ—Ç—ã MACD

MACD –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç **2 —Å–∏–≥–Ω–∞–ª—å–Ω—ã—Ö —Ä–µ–∂–∏–º–∞**, –∫–æ–º–±–∏–Ω–∏—Ä—É–µ–º—ã–µ —á–µ—Ä–µ–∑ **OR** –ª–æ–≥–∏–∫—É:

| #   | –†–µ–∂–∏–º                              | –ê–∫—Ç–∏–≤–∞—Ü–∏—è                    | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
| --- | ---------------------------------- | ---------------------------- | -------------------------------------------------- |
| 1   | **Cross Zero (Level)**             | `use_macd_cross_zero=true`   | MACD –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –∑–∞–¥–∞–Ω–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å (default 0)       |
| 2   | **Cross Signal Line**              | `use_macd_cross_signal=true` | MACD –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç –ª–∏–Ω–∏—é Signal                       |
| 3   | **Data-only** (–Ω–∏—á–µ–≥–æ –Ω–µ –≤–∫–ª—é—á–µ–Ω–æ) | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é                 | –¢–æ–ª—å–∫–æ –¥–∞–Ω–Ω—ã–µ MACD/Signal/Hist, long/short = False |

**‚ö†Ô∏è –í–∞–∂–Ω–æ–µ –æ—Ç–ª–∏—á–∏–µ –æ—Ç RSI:** –†–µ–∂–∏–º—ã MACD –∫–æ–º–±–∏–Ω–∏—Ä—É—é—Ç—Å—è —á–µ—Ä–µ–∑ **OR** (–ª—é–±–æ–π –∏–∑ —Ä–µ–∂–∏–º–æ–≤ –º–æ–∂–µ—Ç –¥–∞—Ç—å —Å–∏–≥–Ω–∞–ª), –∞ –Ω–µ AND –∫–∞–∫ –≤ RSI. –ï—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã –æ–±–∞ —Ä–µ–∂–∏–º–∞ ‚Äî —Å–∏–≥–Ω–∞–ª –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∫–æ–≥–¥–∞ –õ–Æ–ë–û–ô –∏–∑ –Ω–∏—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç.

---

### 2.1 –ë–∞–∑–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ MACD

| –ü–∞—Ä–∞–º–µ—Ç—Ä               | UI Label                        | –¢–∏–ø      | Default   | –û–ø–∏—Å–∞–Ω–∏–µ                                           |
| ---------------------- | ------------------------------- | -------- | --------- | -------------------------------------------------- |
| `enable_visualization` | Enable Visualisation MACD       | checkbox | **false** | –ü–æ–∫–∞–∑–∞—Ç—å –≥–∏—Å—Ç–æ–≥—Ä–∞–º–º—É MACD –Ω–∞ –≥—Ä–∞—Ñ–∏–∫–µ               |
| `timeframe`            | MACD TimeFrame                  | select   | **Chart** | –¢–∞–π–º—Ñ—Ä–µ–π–º –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞ MACD                         |
| `use_btc_source`       | Use BTCUSDT as Source for MACD? | checkbox | **false** | –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ BTC –¥–ª—è —Ä–∞—Å—á—ë—Ç–∞                |
| `fast_period`          | MACD Fast Length (12)           | number   | **12**    | –ü–µ—Ä–∏–æ–¥ –±—ã—Å—Ç—Ä–æ–π EMA                                 |
| `slow_period`          | MACD Slow Length (26)           | number   | **26**    | –ü–µ—Ä–∏–æ–¥ –º–µ–¥–ª–µ–Ω–Ω–æ–π EMA                               |
| `signal_period`        | MACD Signal Smoothing (9)       | number   | **9**     | –ü–µ—Ä–∏–æ–¥ —Å–≥–ª–∞–∂–∏–≤–∞–Ω–∏—è Signal –ª–∏–Ω–∏–∏                    |
| `source`               | MACD Source                     | select   | **close** | –ò—Å—Ç–æ—á–Ω–∏–∫ —Ü–µ–Ω—ã (close/open/high/low/hl2/hlc3/ohlc4) |

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç MACD:**

- **MACD Line** = EMA(fast_period) ‚àí EMA(slow_period)
- **Signal Line** = EMA(signal_period) –æ—Ç MACD Line
- **Histogram** = MACD Line ‚àí Signal Line
- **‚ö†Ô∏è –ü—Ä–∞–≤–∏–ª–æ:** `fast_period` –í–°–ï–ì–î–ê –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å < `slow_period`

---

### 2.2 Cross Zero (Cross Level) ‚Äî –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –Ω—É–ª–µ–≤–æ–π –ª–∏–Ω–∏–∏

| –ü–∞—Ä–∞–º–µ—Ç—Ä                   | UI Label                                    | –¢–∏–ø      | Default   | –û–ø–∏—Å–∞–Ω–∏–µ                               |
| -------------------------- | ------------------------------------------- | -------- | --------- | -------------------------------------- |
| `use_macd_cross_zero`      | Use MACD Cross with Level (0)               | checkbox | **false** | –í–∫–ª—é—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è     |
| `opposite_macd_cross_zero` | Opposite Signal - MACD Cross with Level (0) | checkbox | **false** | –ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã                  |
| `macd_cross_zero_level`    | Cross Line Level (0)                        | number   | **0**     | –£—Ä–æ–≤–µ–Ω—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è (–Ω–µ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ 0) |

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- **LONG:** MACD Line –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –±–∞—Ä–µ ‚â§ level, –Ω–∞ —Ç–µ–∫—É—â–µ–º > level ‚Üí –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –í–í–ï–†–•
- **SHORT:** MACD Line –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–µ–º –±–∞—Ä–µ ‚â• level, –Ω–∞ —Ç–µ–∫—É—â–µ–º < level ‚Üí –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –í–ù–ò–ó

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `opposite_macd_cross_zero`:**

- –ú–µ–Ω—è–µ—Ç –º–µ—Å—Ç–∞–º–∏ LONG –∏ SHORT —Å–∏–≥–Ω–∞–ª—ã
- –í–∫–ª—é—á–µ–Ω–æ: LONG = –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –≤–Ω–∏–∑, SHORT = –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –≤–≤–µ—Ä—Ö

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `macd_cross_zero_level`:**

- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é 0 (–Ω—É–ª–µ–≤–∞—è –ª–∏–Ω–∏—è), –Ω–æ –º–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –ª—é–±–æ–π —É—Ä–æ–≤–µ–Ω—å
- –ü—Ä–∏–º–µ—Ä: `level=-50` ‚Äî LONG –∫–æ–≥–¥–∞ MACD –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç -50 —Å–Ω–∏–∑—É –≤–≤–µ—Ä—Ö (—Ä–∞–Ω–Ω–∏–π –≤—Ö–æ–¥ –∏–∑ –≥–ª—É–±–æ–∫–æ–π –∫–æ—Ä—Ä–µ–∫—Ü–∏–∏)
- –ü—Ä–∏–º–µ—Ä: `level=50` ‚Äî LONG —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ MACD —É–∂–µ –≤—ã—Å–æ–∫–æ (–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —Å–∏–ª—å–Ω–æ–≥–æ —Ç—Ä–µ–Ω–¥–∞)

---

### 2.3 Cross Signal Line ‚Äî –ü–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ –ª–∏–Ω–∏–∏ Signal

| –ü–∞—Ä–∞–º–µ—Ç—Ä                       | UI Label                                      | –¢–∏–ø      | Default   | –û–ø–∏—Å–∞–Ω–∏–µ                                         |
| ------------------------------ | --------------------------------------------- | -------- | --------- | ------------------------------------------------ |
| `use_macd_cross_signal`        | Use MACD Cross with Signal Line               | checkbox | **false** | –í–∫–ª—é—á–∏—Ç—å —Å–∏–≥–Ω–∞–ª –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è Signal –ª–∏–Ω–∏–∏         |
| `signal_only_if_macd_positive` | Signal only if MACD < 0 (Long) or > 0 (Short) | checkbox | **false** | –§–∏–ª—å—Ç—Ä: Long —Ç–æ–ª—å–∫–æ –ø—Ä–∏ MACD<0, Short –ø—Ä–∏ MACD>0 |
| `opposite_macd_cross_signal`   | Opposite Signal - MACD Cross with Signal Line | checkbox | **false** | –ò–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏–≥–Ω–∞–ª—ã                            |

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- **LONG:** MACD Line –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç Signal Line –°–ù–ò–ó–£ –í–í–ï–†–• (–±—ã—á–∏–π –∫—Ä–æ—Å—Å–æ–≤–µ—Ä)
- **SHORT:** MACD Line –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç Signal Line –°–í–ï–†–•–£ –í–ù–ò–ó (–º–µ–¥–≤–µ–∂–∏–π –∫—Ä–æ—Å—Å–æ–≤–µ—Ä)

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `signal_only_if_macd_positive`:**

- –≠—Ç–æ —Ñ–∏–ª—å—Ç—Ä –¥–ª—è **mean-reversion** —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
- LONG –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¢–û–õ–¨–ö–û –∫–æ–≥–¥–∞ MACD < 0 (–ª–∏–Ω–∏—è –Ω–∏–∂–µ –Ω—É–ª—è = –º–µ–¥–≤–µ–∂—å—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è ‚Üí –ø–æ–∫—É–ø–∫–∞ –Ω–∞ —Ä–∞–∑–≤–æ—Ä–æ—Ç–µ)
- SHORT –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –¢–û–õ–¨–ö–û –∫–æ–≥–¥–∞ MACD > 0 (–ª–∏–Ω–∏—è –≤—ã—à–µ –Ω—É–ª—è = –±—ã—á—å—è —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—è ‚Üí –ø—Ä–æ–¥–∞–∂–∞ –Ω–∞ —Ä–∞–∑–≤–æ—Ä–æ—Ç–µ)
- –ë–µ–∑ —Ñ–∏–ª—å—Ç—Ä–∞: —Å–∏–≥–Ω–∞–ª—ã –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–º –ø–æ–ª–æ–∂–µ–Ω–∏–∏ MACD

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç `opposite_macd_cross_signal`:**

- –ú–µ–Ω—è–µ—Ç –º–µ—Å—Ç–∞–º–∏ LONG –∏ SHORT –∫—Ä–æ—Å—Å–æ–≤–µ—Ä—ã
- –í–∫–ª—é—á–µ–Ω–æ: LONG = –º–µ–¥–≤–µ–∂–∏–π –∫—Ä–æ—Å—Å–æ–≤–µ—Ä, SHORT = –±—ã—á–∏–π –∫—Ä–æ—Å—Å–æ–≤–µ—Ä

---

### 2.4 Signal Memory (–ü–∞–º—è—Ç—å —Å–∏–≥–Ω–∞–ª–∞)

| –ü–∞—Ä–∞–º–µ—Ç—Ä                | UI Label                                          | –¢–∏–ø      | Default   | –û–ø–∏—Å–∞–Ω–∏–µ                 |
| ----------------------- | ------------------------------------------------- | -------- | --------- | ------------------------ |
| `disable_signal_memory` | ==Disable Signal Memory (for both MACD Crosses)== | checkbox | **false** | –û—Ç–∫–ª—é—á–∏—Ç—å –ø–∞–º—è—Ç—å —Å–∏–≥–Ω–∞–ª–∞ |
| `signal_memory_bars`    | (–Ω–µ –ø–æ–∫–∞–∑–∞–Ω –≤ UI, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è)                | number   | **5**     | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞—Ä–æ–≤ –ø–∞–º—è—Ç–∏  |

**‚ö†Ô∏è –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç—å:** Signal Memory –≤ MACD **–í–ö–õ–Æ–ß–ï–ù–ê –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç RSI, –≥–¥–µ –æ–Ω–∞ –≤—ã–∫–ª—é—á–µ–Ω–∞).

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç:**

- –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é: —Å–∏–≥–Ω–∞–ª MACD –æ—Å—Ç–∞—ë—Ç—Å—è –∞–∫—Ç–∏–≤–Ω—ã–º –µ—â—ë 5 –±–∞—Ä–æ–≤ –ø–æ—Å–ª–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è
- `disable_signal_memory=true` ‚Äî —Å–∏–≥–Ω–∞–ª —Ç–æ–ª—å–∫–æ –Ω–∞ –±–∞—Ä–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è (1 –±–∞—Ä)
- –ü—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ **–æ–±–æ–∏–º** —Ä–µ–∂–∏–º–∞–º (Cross Zero –∏ Cross Signal)

**–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ –ø–∞–º—è—Ç—å:**

- MACD ‚Äî –∑–∞–ø–∞–∑–¥—ã–≤–∞—é—â–∏–π –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä, –∫—Ä–æ—Å—Å–æ–≤–µ—Ä –º–æ–∂–µ—Ç –ø—Ä–æ–∏–∑–æ–π—Ç–∏, –Ω–æ –¥—Ä—É–≥–∏–µ —Ñ–∏–ª—å—Ç—Ä—ã –º–æ–≥—É—Ç –Ω–µ —Å–æ–≤–ø–∞—Å—Ç—å
- –ü–∞–º—è—Ç—å –¥–∞—ë—Ç "–æ–∫–Ω–æ" –¥–ª—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —É—Å–ª–æ–≤–∏—è–º–∏
- –ù–∞ 15-–º–∏–Ω –≥—Ä–∞—Ñ–∏–∫–µ: 5 –±–∞—Ä–æ–≤ = 75 –º–∏–Ω—É—Ç –æ–∫–Ω–∞ –¥–ª—è –≤—Ö–æ–¥–∞

---

### 2.5 –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ MACD (–õ–æ–≥–∏–∫–∞ OR)

```python
long_signal = False  # –ù–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å False
if use_cross_zero:
    long_signal = long_signal OR zero_long  # –î–æ–±–∞–≤–ª—è–µ–º —á–µ—Ä–µ–∑ OR
if use_cross_signal:
    long_signal = long_signal OR sig_long   # –î–æ–±–∞–≤–ª—è–µ–º —á–µ—Ä–µ–∑ OR
# –ó–∞—Ç–µ–º –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è Signal Memory –∫ –∏—Ç–æ–≥–æ–≤–æ–º—É —Å–∏–≥–Ω–∞–ª—É
```

**–ü—Ä–∏–º–µ—Ä –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏:**

- `use_macd_cross_zero=true, level=0` ‚Äî LONG –∫–æ–≥–¥–∞ MACD –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç 0
- `use_macd_cross_signal=true` ‚Äî LONG –∫–æ–≥–¥–∞ MACD –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç Signal
- –†–µ–∑—É–ª—å—Ç–∞—Ç: LONG = True –∫–æ–≥–¥–∞ –õ–Æ–ë–û–ï –∏–∑ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –ø—Ä–æ–∏–∑–æ—à–ª–æ

---

### 2.6 –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è MACD

#### –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–µ–º—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã MACD:

| –ü–∞—Ä–∞–º–µ—Ç—Ä                | Default Range | –û–ø–∏—Å–∞–Ω–∏–µ –≤ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏    |
| ----------------------- | ------------- | ------------------------- |
| `fast_period`           | 12 ‚Üí 12 / 1   | MACD Fast Length (12)     |
| `slow_period`           | 26 ‚Üí 26 / 1   | MACD Slow Length (26)     |
| `signal_period`         | 9 ‚Üí 9 / 1     | MACD Signal Smoothing (9) |
| `macd_cross_zero_level` | 0 ‚Üí 0 / 1     | Cross Line Level (0)      |

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** `signal_memory_bars` –ù–ï –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ –ø–∞–Ω–µ–ª–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –≤ UI, –Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –ø—Ä–æ–≥—Ä–∞–º–º–Ω–æ.

#### –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:

| –ü–∞—Ä–∞–º–µ—Ç—Ä                | min | max | step | –û–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ            |
| ----------------------- | --- | --- | ---- | ---------------------- |
| `fast_period`           | 8   | 16  | 1    | –î–∏–∞–ø–∞–∑–æ–Ω –±—ã—Å—Ç—Ä–æ–π EMA   |
| `slow_period`           | 20  | 30  | 1    | –î–∏–∞–ø–∞–∑–æ–Ω –º–µ–¥–ª–µ–Ω–Ω–æ–π EMA |
| `signal_period`         | 6   | 12  | 1    | –°–≥–ª–∞–∂–∏–≤–∞–Ω–∏–µ Signal     |
| `macd_cross_zero_level` | -50 | 50  | 1    | –£—Ä–æ–≤–µ–Ω—å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è    |
| `signal_memory_bars`    | 1   | 20  | 1    | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø–∞–º—è—Ç–∏    |

**‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:** `fast_period` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç—Ä–æ–≥–æ < `slow_period`.

---

## üìã –ß–ê–°–¢–¨ 3: –í–û–ü–†–û–°–´ –î–õ–Ø –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–Ø AI –ê–ì–ï–ù–¢–û–í

### –£—Ä–æ–≤–µ–Ω—å 1: –ë–∞–∑–æ–≤–æ–µ –ø–æ–Ω–∏–º–∞–Ω–∏–µ

1. **–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç, –µ—Å–ª–∏ RSI –±–ª–æ–∫ –¥–æ–±–∞–≤–ª–µ–Ω –±–µ–∑ –≤–∫–ª—é—á–µ–Ω–∏—è –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞?**

    > –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: RSI —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ä–µ–∂–∏–º–µ Passthrough ‚Äî `long` –∏ `short` –≤—Å–µ–≥–¥–∞ True. –ë–ª–æ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö RSI-–∑–Ω–∞—á–µ–Ω–∏—è.

2. **–í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Range Filter –∏ Cross Level –≤ RSI?**

    > –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: Range ‚Äî –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —É—Å–ª–æ–≤–∏–µ (True –ø–æ–∫–∞ RSI –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ). Cross ‚Äî —Å–æ–±—ã—Ç–∏–π–Ω–æ–µ (True —Ç–æ–ª—å–∫–æ –Ω–∞ –±–∞—Ä–µ –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è). Range —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç, Cross –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Å–∏–≥–Ω–∞–ª.

3. **–ö–∞–∫–æ–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–µ–∂–∏–º–æ–≤ RSI? –ê –¥–ª—è MACD?**
    > –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: RSI ‚Äî AND (–æ–±–∞ —É—Å–ª–æ–≤–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å True). MACD ‚Äî OR (–ª—é–±–æ–π —Ä–µ–∂–∏–º –º–æ–∂–µ—Ç –¥–∞—Ç—å —Å–∏–≥–Ω–∞–ª).

### –£—Ä–æ–≤–µ–Ω—å 2: –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

4. **–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å RSI –¥–ª—è –≤—Ö–æ–¥–∞ –≤ LONG —Ç–æ–ª—å–∫–æ –≤ –∑–æ–Ω–µ –ø–µ—Ä–µ–ø—Ä–æ–¥–∞–Ω–Ω–æ—Å—Ç–∏ (RSI < 30) —Å –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–µ–º —É—Ä–æ–≤–Ω—è 25 –≤–≤–µ—Ä—Ö?**

    > –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
    >
    > - `use_long_range=true, long_rsi_more=1, long_rsi_less=30`
    > - `use_cross_level=true, cross_long_level=25`
    > - –†–µ–∑—É–ª—å—Ç–∞—Ç: LONG –∫–æ–≥–¥–∞ RSI –≤ –∑–æ–Ω–µ 1-30 AND RSI –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç 25 –≤–≤–µ—Ä—Ö

5. **–ö–∞–∫ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å MACD –¥–ª—è mean-reversion —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏?**

    > –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
    >
    > - `use_macd_cross_signal=true` ‚Äî –≤–∫–ª—é—á–∏—Ç—å –∫—Ä–æ—Å—Å–æ–≤–µ—Ä Signal
    > - `signal_only_if_macd_positive=true` ‚Äî —Ñ–∏–ª—å—Ç—Ä: LONG —Ç–æ–ª—å–∫–æ –ø—Ä–∏ MACD<0, SHORT —Ç–æ–ª—å–∫–æ –ø—Ä–∏ MACD>0
    > - –õ–æ–≥–∏–∫–∞: –ø–æ–∫—É–ø–∞–µ–º –≤ –º–µ–¥–≤–µ–∂—å–µ–π –∑–æ–Ω–µ –Ω–∞ –±—ã—á—å–µ–º –∫—Ä–æ—Å—Å–æ–≤–µ—Ä–µ, –ø—Ä–æ–¥–∞—ë–º –≤ –±—ã—á—å–µ–π –∑–æ–Ω–µ –Ω–∞ –º–µ–¥–≤–µ–∂—å–µ–º

6. **–ó–∞—á–µ–º –Ω—É–∂–Ω–∞ Signal Memory –∏ –∫–∞–∫ –æ–Ω–∞ –≤–ª–∏—è–µ—Ç –Ω–∞ —Å–∏–≥–Ω–∞–ª—ã?**
    > –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: Memory —Ä–∞—Å—à–∏—Ä—è–µ—Ç –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã–π —Å–∏–≥–Ω–∞–ª –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è –Ω–∞ N –±–∞—Ä–æ–≤. –ë–µ–∑ –Ω–µ—ë: True —Ç–æ–ª—å–∫–æ –Ω–∞ 1 –±–∞—Ä–µ. –° memory_bars=5 –Ω–∞ 15–º–∏–Ω: —Å–∏–≥–Ω–∞–ª –∞–∫—Ç–∏–≤–µ–Ω 75 –º–∏–Ω—É—Ç. –î–∞—ë—Ç –≤—Ä–µ–º—è –¥–ª—è —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è —Å –¥—Ä—É–≥–∏–º–∏ —Ñ–∏–ª—å—Ç—Ä–∞–º–∏.

### –£—Ä–æ–≤–µ–Ω—å 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

7. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é RSI –¥–ª—è –ø–æ–∏—Å–∫–∞ –ª—É—á—à–µ–≥–æ —É—Ä–æ–≤–Ω—è Cross Level –¥–ª—è LONG –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 15-45 —Å —à–∞–≥–æ–º 5:**

    > –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
    >
    > ```json
    > {
    >     "cross_long_level": { "enabled": true, "min": 15, "max": 45, "step": 5 }
    > }
    > ```
    >
    > –≠—Ç–æ —Å–æ–∑–¥–∞—Å—Ç 7 –∏—Ç–µ—Ä–∞—Ü–∏–π: 15, 20, 25, 30, 35, 40, 45

8. **–ü–æ—á–µ–º—É –ø—Ä–∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ MACD –≤–∞–∂–Ω–æ, —á—Ç–æ–±—ã fast_period < slow_period?**

    > –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: MACD = EMA(fast) - EMA(slow). –ï—Å–ª–∏ fast ‚â• slow, MACD —Ç–µ—Ä—è–µ—Ç —Å–º—ã—Å–ª ‚Äî –±—ã—Å—Ç—Ä–∞—è EMA –Ω–µ –±—É–¥–µ—Ç –æ–ø–µ—Ä–µ–∂–∞—Ç—å –º–µ–¥–ª–µ–Ω–Ω—É—é. –û–ø—Ç–∏–º–∏–∑–∞—Ç–æ—Ä –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å —ç—Ç–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ.

9. **–ö–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å MACD Cross Level –≤–º–µ—Å—Ç–µ —Å fast/slow –ø–µ—Ä–∏–æ–¥–∞–º–∏?**
    > –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
    >
    > - `fast_period: {enabled: true, min: 8, max: 16, step: 1}`
    > - `slow_period: {enabled: true, min: 20, max: 30, step: 1}`
    > - `macd_cross_zero_level: {enabled: true, min: -50, max: 50, step: 5}`
    > - –í–∞–∂–Ω–æ: –∫–æ–º–±–∏–Ω–∞—Ç–æ—Ä–Ω—ã–π –≤–∑—Ä—ã–≤ ‚Äî 9 √ó 11 √ó 21 = 2079 –∫–æ–º–±–∏–Ω–∞—Ü–∏–π

### –£—Ä–æ–≤–µ–Ω—å 4: –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

10. **–ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é —Å RSI + MACD, –≥–¥–µ RSI —Ñ–∏–ª—å—Ç—Ä—É–µ—Ç, –∞ MACD –¥–∞—ë—Ç —Å–∏–≥–Ω–∞–ª –≤—Ö–æ–¥–∞?**

    > –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
    >
    > - RSI –±–ª–æ–∫: `use_long_range=true, long_rsi_more=20, long_rsi_less=50` (—Ñ–∏–ª—å—Ç—Ä: RSI –≤ –Ω–µ–π—Ç—Ä–∞–ª—å–Ω–æ–π –∑–æ–Ω–µ)
    > - MACD –±–ª–æ–∫: `use_macd_cross_signal=true` (—Å–∏–≥–Ω–∞–ª: –±—ã—á–∏–π –∫—Ä–æ—Å—Å–æ–≤–µ—Ä)
    > - –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ: RSI.long ‚Üí AND-–ª–æ–≥–∏–∫–∞ ‚Üí MACD.long ‚Üí Entry Long
    > - –†–µ–∑—É–ª—å—Ç–∞—Ç: –≤—Ö–æ–¥ –≤ LONG —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ RSI 20-50 –ò MACD –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç Signal –≤–≤–µ—Ä—Ö

11. **–ß—Ç–æ –ø—Ä–æ–∏–∑–æ–π–¥—ë—Ç –µ—Å–ª–∏ –≤–∫–ª—é—á–∏—Ç—å `opposite_signal` –≤ RSI Cross Level?**

    > –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç: –°–∏–≥–Ω–∞–ª—ã long –∏ short –º–µ–Ω—è—é—Ç—Å—è –º–µ—Å—Ç–∞–º–∏:
    >
    > - –û–±—ã—á–Ω–æ: LONG = RSI –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç `cross_long_level` –í–í–ï–†–•
    > - –° opposite: LONG = RSI –ø–µ—Ä–µ—Å–µ–∫–∞–µ—Ç `cross_short_level` –í–ù–ò–ó
    > - –≠—Ç–æ –∫–æ–Ω—Ç—Ä-—Ç—Ä–µ–Ω–¥–æ–≤–∞—è –ª–æ–≥–∏–∫–∞: –≤—Ö–æ–¥–∏–º –≤ LONG –∫–æ–≥–¥–∞ RSI –ø–∞–¥–∞–µ—Ç —á–µ—Ä–µ–∑ —É—Ä–æ–≤–µ–Ω—å –ø–µ—Ä–µ–∫—É–ø–ª–µ–Ω–Ω–æ—Å—Ç–∏

12. **–ß–µ–º –æ—Ç–ª–∏—á–∞–µ—Ç—Å—è Signal Memory –≤ RSI –æ—Ç MACD?**
    > –û–∂–∏–¥–∞–µ–º—ã–π –æ—Ç–≤–µ—Ç:
    >
    > - RSI: Memory **–í–´–ö–õ–Æ–ß–ï–ù–ê** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é. –ù—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å `use_cross_memory=true`
    > - MACD: Memory **–í–ö–õ–Æ–ß–ï–ù–ê** –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (5 –±–∞—Ä–æ–≤). –ù—É–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å `disable_signal_memory=true` —á—Ç–æ–±—ã –æ—Ç–∫–ª—é—á–∏—Ç—å
    > - –í RSI memory –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫ Cross Level
    > - –í MACD memory –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∫ –æ–±–æ–∏–º —Ä–µ–∂–∏–º–∞–º (Cross Zero –∏ Cross Signal)

---

## üìã –ß–ê–°–¢–¨ 4: –¢–ï–•–ù–ò–ß–ï–°–ö–ê–Ø –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø (–¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–ª—É–±–∏–Ω—ã –ø–æ–Ω–∏–º–∞–Ω–∏—è)

### –§–∞–π–ª—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏:

| –§–∞–π–ª                                              | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç                                                                                        |
| ------------------------------------------------- | ------------------------------------------------------------------------------------------------- |
| `backend/core/indicators/rsi_advanced.py`         | –ú–æ–¥—É–ª—å RSI Advanced Filter (NumPy, TradingView-parity)                                            |
| `backend/backtesting/strategy_builder_adapter.py` | –ê–¥–∞–ø—Ç–µ—Ä: —Å–≤—è–∑—ã–≤–∞–µ—Ç UI-–±–ª–æ–∫–∏ —Å –≤—ã—á–∏—Å–ª–µ–Ω–∏—è–º–∏ (lines 568-676 = RSI, lines 678-756 = MACD)            |
| `frontend/js/pages/strategy_builder.js`           | UI: –¥–µ—Ñ–æ–ª—Ç—ã (lines 4148-4172 = RSI, 4243-4262 = MACD), –ø–∞–Ω–µ–ª–∏ (5960-5998 = RSI, 6109-6129 = MACD) |
| `backend/agents/prompts/templates.py`             | –ü—Ä–æ–º–ø—Ç-—à–∞–±–ª–æ–Ω—ã –¥–ª—è AI –∞–≥–µ–Ω—Ç–æ–≤ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤                                              |
| `backend/agents/mcp/tools/strategy_builder.py`    | MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏                                                        |

### –ö–æ–¥ RSI –≤ –∞–¥–∞–ø—Ç–µ—Ä–µ (–∫–ª—é—á–µ–≤–∞—è –ª–æ–≥–∏–∫–∞):

```python
# Range: continuous condition
if use_long_range:
    long_range_condition = (rsi > long_rsi_more) & (rsi < long_rsi_less)
else:
    long_range_condition = True  # Default: allow all

# Cross: event-based signal
if use_cross_level:
    cross_long = (rsi.shift(1) <= cross_long_level) & (rsi > cross_long_level)
    if opposite_signal:
        cross_long, cross_short = cross_short, cross_long
    if use_cross_memory:
        cross_long = _apply_signal_memory(cross_long, memory_bars)
else:
    long_cross_condition = True  # Default: allow all

# Combine: AND
long_signal = long_range_condition & long_cross_condition
```

### –ö–æ–¥ MACD –≤ –∞–¥–∞–ø—Ç–µ—Ä–µ (–∫–ª—é—á–µ–≤–∞—è –ª–æ–≥–∏–∫–∞):

```python
long_signal = False  # Start with False (not True like RSI!)

if use_cross_zero:
    zero_long = (macd > level) & (macd.shift(1) <= level)
    if opposite:
        zero_long, zero_short = zero_short, zero_long
    long_signal = long_signal | zero_long  # OR logic

if use_cross_signal:
    sig_long = (macd > signal_line) & (macd.shift(1) <= signal_line.shift(1))
    if signal_only_if_macd_positive:
        sig_long = sig_long & (macd < 0)  # Only in negative territory
    if opposite:
        sig_long, sig_short = sig_short, sig_long
    long_signal = long_signal | sig_long  # OR logic

# Memory (enabled by default!)
if not disable_signal_memory:
    long_signal = _apply_signal_memory(long_signal, memory_bars)
```

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –æ—Ü–µ–Ω–∫–∏ AI –∞–≥–µ–Ω—Ç–æ–≤

| –ö—Ä–∏—Ç–µ—Ä–∏–π                      | –ë–∞–ª–ª—ã    | –û–ø–∏—Å–∞–Ω–∏–µ                                  |
| ----------------------------- | -------- | ----------------------------------------- |
| –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è | /10      | –ó–Ω–∞–µ—Ç –ª–∏ –∞–≥–µ–Ω—Ç –¥–µ—Ñ–æ–ª—Ç—ã –≤—Å–µ—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤    |
| –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ RSI         | /15      | Range vs Cross vs Legacy vs Passthrough   |
| –ü–æ–Ω–∏–º–∞–Ω–∏–µ —Ä–µ–∂–∏–º–æ–≤ MACD        | /15      | Cross Zero vs Cross Signal vs Data-only   |
| AND vs OR –ª–æ–≥–∏–∫–∞              | /10      | RSI=AND, MACD=OR ‚Äî –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–ª–∏—á–∏–µ   |
| Signal Memory                 | /10      | RSI=off by default, MACD=on by default    |
| Opposite Signal               | /10      | –ö–∞–∫ –∏–Ω–≤–µ—Ä—Å–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ–±–æ–∏—Ö —Ñ–∏–ª—å—Ç—Ä–∞—Ö    |
| –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è                   | /15      | –ü—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã, —Ñ–æ—Ä–º–∞—Ç, –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è |
| –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏         | /15      | –£–º–µ–Ω–∏–µ —Å–æ—Å—Ç–∞–≤–∏—Ç—å —Ä–∞–±–æ—á—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é     |
| **–ò–¢–û–ì–û**                     | **/100** |                                           |
