# üß™ Strategy Builder - –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

> **–î–∞—Ç–∞**: 2026-01-29  
> **–¶–µ–ª—å**: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –º–æ–∂–Ω–æ —Å–æ–±—Ä–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏—é

---

## ‚úÖ –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
```
http://localhost:8000/frontend/strategy-builder.html
```

### –®–∞–≥ 2: –û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12)
–≠—Ç–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ä–∞–±–æ—Ç—ã —Å–∏—Å—Ç–µ–º—ã

### –®–∞–≥ 3: –†–∞—Å–∫—Ä–æ–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é –±–ª–æ–∫–æ–≤
1. –ù–∞–π–¥–∏—Ç–µ –≤ –ª–µ–≤–æ–π –ø–∞–Ω–µ–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "INDICATORS (8)"
2. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
3. –ö–∞—Ç–µ–≥–æ—Ä–∏—è –¥–æ–ª–∂–Ω–∞ —Ä–∞—Å–∫—Ä—ã—Ç—å—Å—è
4. –î–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –±–ª–æ–∫–∏: RSI, MACD, EMA, SMA, –∏ —Ç.–¥.

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```
[Strategy Builder] Category header clicked - letting sidebar-toggle handle
```

### –®–∞–≥ 4: –î–æ–±–∞–≤—å—Ç–µ –±–ª–æ–∫ –Ω–∞ canvas

**–°–ø–æ—Å–æ–± 1: –ö–ª–∏–∫ –ø–æ –±–ª–æ–∫—É**
1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –±–ª–æ–∫ "RSI" –≤ —Ä–∞—Å–∫—Ä—ã—Ç–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
2. –ë–ª–æ–∫ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–∞ canvas (—Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω–∞—è –æ–±–ª–∞—Å—Ç—å)
3. –ë–ª–æ–∫ –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤—ã–¥–µ–ª–µ–Ω (–ø–æ–¥—Å–≤–µ—á–µ–Ω)

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```
[Strategy Builder] Block item clicked: rsi, type: indicator
[Strategy Builder] addBlockToCanvas called: blockId=rsi, blockType=indicator
[Strategy Builder] Block definition found: {id: "rsi", name: "RSI", ...}
[Strategy Builder] Created block: {id: "block_...", type: "rsi", ...}
[Strategy Builder] Total blocks: 2
[Strategy Builder] Block added to canvas successfully
```

**–°–ø–æ—Å–æ–± 2: Drag & Drop**
1. –ó–∞–∂–º–∏—Ç–µ –±–ª–æ–∫ "RSI" –º—ã—à—å—é
2. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –Ω–∞ canvas
3. –û—Ç–ø—É—Å—Ç–∏—Ç–µ –∫–Ω–æ–ø–∫—É –º—ã—à–∏
4. –ë–ª–æ–∫ –¥–æ–ª–∂–µ–Ω –ø–æ—è–≤–∏—Ç—å—Å—è –Ω–∞ canvas

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:**
```
[Strategy Builder] Canvas drop event
[Strategy Builder] Dropped block: rsi, type: indicator
[Strategy Builder] Drop position: x=..., y=...
[Strategy Builder] addBlockToCanvas called: ...
```

### –®–∞–≥ 5: –î–æ–±–∞–≤—å—Ç–µ –µ—â–µ –±–ª–æ–∫–∏
1. –†–∞—Å–∫—Ä–æ–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "CONDITIONS (6)"
2. –î–æ–±–∞–≤—å—Ç–µ –±–ª–æ–∫ "Crossover" –Ω–∞ canvas
3. –†–∞—Å–∫—Ä–æ–π—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é "INPUTS (4)"
4. –î–æ–±–∞–≤—å—Ç–µ –±–ª–æ–∫ "Price" –Ω–∞ canvas

### –®–∞–≥ 6: –°–æ–∑–¥–∞–π—Ç–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏
1. –ö–ª–∏–∫–Ω–∏—Ç–µ –Ω–∞ –≤—ã—Ö–æ–¥–Ω–æ–π –ø–æ—Ä—Ç –±–ª–æ–∫–∞ (–ø—Ä–∞–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞ –±–ª–æ–∫–∞)
2. –ü–µ—Ä–µ—Ç–∞—â–∏—Ç–µ –ª–∏–Ω–∏—é –∫ –≤—Ö–æ–¥–Ω–æ–º—É –ø–æ—Ä—Ç—É –¥—Ä—É–≥–æ–≥–æ –±–ª–æ–∫–∞ (–ª–µ–≤–∞—è —Å—Ç–æ—Ä–æ–Ω–∞)
3. –û—Ç–ø—É—Å—Ç–∏—Ç–µ –∫–Ω–æ–ø–∫—É –º—ã—à–∏
4. –î–æ–ª–∂–Ω–∞ –ø–æ—è–≤–∏—Ç—å—Å—è –ª–∏–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

### –®–∞–≥ 7: –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –∫ Main Strategy Node
1. –ù–∞–π–¥–∏—Ç–µ –±–ª–æ–∫ "Strategy" –Ω–∞ canvas (—ç—Ç–æ –≥–ª–∞–≤–Ω—ã–π —É–∑–µ–ª)
2. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤—ã—Ö–æ–¥ —É—Å–ª–æ–≤–∏—è –∫ –≤—Ö–æ–¥—É "Entry Long" –∏–ª–∏ "Entry Short"
3. –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –≥–æ—Ç–æ–≤–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

---

## üêõ –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
const category = document.querySelector(".block-category");
console.log("Category collapsed:", category.classList.contains("collapsed"));
category.classList.remove("collapsed");
```

**–†–µ—à–µ–Ω–∏–µ:** –ï—Å–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è –Ω–µ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è, –≤–æ–∑–º–æ–∂–Ω–æ –ø—Ä–æ–±–ª–µ–º–∞ –≤ `sidebar-toggle.js`

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–ª–æ–∫ –Ω–µ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –∫–ª–∏–∫–µ

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
1. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è —Ä–∞—Å–∫—Ä—ã—Ç–∞
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –Ω–∞ –æ—à–∏–±–∫–∏
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å –±–ª–æ–∫ –≤—Ä—É—á–Ω—É—é:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
if (typeof addBlockToCanvas === 'function') {
  addBlockToCanvas('rsi', 'indicator');
} else {
  console.error("addBlockToCanvas function not found");
}
```

### –ü—Ä–æ–±–ª–µ–º–∞: –ë–ª–æ–∫–∏ –Ω–µ –≤–∏–¥–Ω—ã –≤ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
const blocks = document.querySelectorAll(".block-item");
console.log("Block items found:", blocks.length);

// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é
const firstCategory = document.querySelector(".block-category");
const blockList = firstCategory.querySelector(".block-list");
console.log("Block list display:", window.getComputedStyle(blockList).display);
```

---

## üìä –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤:
- ‚úÖ –ù–∞ canvas –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–∏–Ω–∏–º—É–º 3 –±–ª–æ–∫–∞
- ‚úÖ –ë–ª–æ–∫–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω—ã –ª–∏–Ω–∏—è–º–∏
- ‚úÖ Main Strategy Node –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–µ –≤—Ö–æ–¥—ã
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å "Valid" –∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏

–ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–ª–æ–∫–∞ –¥–æ–ª–∂–Ω—ã –ø–æ—è–≤–∏—Ç—å—Å—è –ª–æ–≥–∏:
```
[Strategy Builder] Block categories clicked: ...
[Strategy Builder] Block item clicked: rsi, type: indicator
[Strategy Builder] addBlockToCanvas called: blockId=rsi, blockType=indicator
[Strategy Builder] Block definition found: {...}
[Strategy Builder] Created block: {...}
[Strategy Builder] Total blocks: 2
[Strategy Builder] renderBlocks called, blocks count: 2
[Strategy Builder] Block added to canvas successfully
```

---

## üß™ E2E: –≤—ã–±–æ—Ä —Ç–∏–∫–µ—Ä–æ–≤ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (Bybit, –≤—Å–µ TF –≤ –ë–î)

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è **–∏–∑ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞** (Strategy Builder): –≤—ã–±–æ—Ä —Ç–∏–∫–µ—Ä–∞ ‚Üí –∑–∞–ø—Ä–æ—Å –∫ Bybit ‚Üí –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤ –≤ –ë–î. –°–∫—Ä–∏–ø—Ç –ø–æ–≤—Ç–æ—Ä—è–µ—Ç —ç—Ç–æ –¥–ª—è —Ç—Ä—ë—Ö —Ç–∏–∫–µ—Ä–æ–≤ –ø–æ–¥—Ä—è–¥.

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:**
- –ó–∞–ø—É—â–µ–Ω –±—ç–∫–µ–Ω–¥: `.\start_all.ps1` –∏–ª–∏ `uvicorn` –Ω–∞ `http://localhost:8000`.
- –î–æ—Å—Ç—É–ø –∫ Bybit API (—Å–µ—Ç—å).
- Playwright: `py -3.14 -m pip install playwright` –∏ `py -3.14 -m playwright install chromium` (—á–µ—Ä–µ–∑ `-m`, –µ—Å–ª–∏ Scripts –Ω–µ –≤ PATH).

**–ó–∞–ø—É—Å–∫:**
```powershell
# –° –≤–∏–¥–∏–º—ã–º –±—Ä–∞—É–∑–µ—Ä–æ–º (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: DOGEUSDT ‚Üí BNBUSDT ‚Üí BTCUSDT)
py -3.14 scripts/e2e_ticker_sync_real_bybit.py

# Headless
py -3.14 scripts/e2e_ticker_sync_real_bybit.py --headless

# –°–≤–æ–∏ —Ç–∏–∫–µ—Ä—ã
py -3.14 scripts/e2e_ticker_sync_real_bybit.py --symbols ETHUSDT SOLUSDT XRPUSDT
```

**–ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:** –æ—Ç–∫—Ä—ã—Ç–∏–µ Strategy Builder ‚Üí –∫–ª–∏–∫ –ø–æ –ø–æ–ª—é Symbol ‚Üí –≤—ã–±–æ—Ä —Ç–∏–∫–µ—Ä–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ ‚Üí –æ–∂–∏–¥–∞–Ω–∏–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (—Ä–µ–∞–ª—å–Ω—ã–π –∑–∞–ø—Ä–æ—Å –∫ Bybit, –∑–∞–≥—Ä—É–∑–∫–∞ –≤—Å–µ—Ö TF –≤ –ë–î) ‚Üí —Å–º–µ–Ω–∞ —Ç–∏–∫–µ—Ä–∞ –∏ –ø–æ–≤—Ç–æ—Ä –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–∏–º–≤–æ–ª–∞.

---

**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é  
**–í—Ä–µ–º—è**: ~5-10 –º–∏–Ω—É—Ç (—Ä—É—á–Ω–æ–π flow); E2E ticker sync: –¥–æ ~6 –º–∏–Ω—É—Ç (3 —Ç–∏–∫–µ—Ä–∞ √ó –¥–æ 2 –º–∏–Ω –Ω–∞ sync)
