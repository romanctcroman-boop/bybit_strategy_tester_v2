# üß™ –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–∏—Å—Ç–µ–º—ã –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è —Å–≤–µ—á–µ–π

## üìã –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é

### –®–∞–≥ 1: –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```powershell
cd d:\bybit_strategy_tester_v2\frontend
npm run dev
```
‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —É–∂–µ –∑–∞–ø—É—â–µ–Ω–æ –Ω–∞ http://localhost:5173

### –®–∞–≥ 2: –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö —É—Ç–∏–ª–∏—Ç
1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173 –≤ –±—Ä–∞—É–∑–µ—Ä–µ
2. –ù–∞–∂–º–∏—Ç–µ F12 (–æ—Ç–∫—Ä–æ–µ—Ç—Å—è DevTools)
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –≤–∫–ª–∞–¥–∫—É Console
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞ `frontend/test_storage.js`
5. –í—Å—Ç–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª—å –∏ –Ω–∞–∂–º–∏—Ç–µ Enter

‚úÖ –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –±—É–¥—É—Ç –¥–æ—Å—Ç—É–ø–Ω—ã –∫–æ–º–∞–Ω–¥—ã `TestUtils` –∏ `AutoTests`

---

## üéØ –¢–µ—Å—Ç–æ–≤—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

### –¢–ï–°–¢ 1: –ó–∞–≥—Ä—É–∑–∫–∞ 2000 —Å–≤–µ—á–µ–π –≤ –ø—É—Å—Ç—É—é –±–∞–∑—É (—Ç–µ–∫—É—â–µ–µ –≤—Ä–µ–º—è)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–µ—Ä–≤–∏—á–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö –±–µ–∑ –∫—ç—à–∞

**–ö–æ–º–∞–Ω–¥–∞:**
```javascript
AutoTests.test1_EmptyStorage()
```

**–®–∞–≥–∏:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É (Ctrl+R)
3. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –≤ –∫–æ–Ω—Å–æ–ª–∏ –∑–∞ –ª–æ–≥–∞–º–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üÜï No cache found, loading fresh data: bybit_candles_v1_linear_BTCUSDT_15
üìä Fetching 1000 candles from API...
‚úÖ Loaded 1000 candles
üíæ Saved 1000 candles to localStorage
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –ó–∞–≥—Ä—É–∂–µ–Ω–æ ~1000 —Å–≤–µ—á–µ–π (–ª–∏–º–∏—Ç API Bybit)
- [ ] –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ localStorage
- [ ] –ö–ª—é—á: `bybit_candles_v1_linear_BTCUSDT_15`
- [ ] –ì—Ä–∞—Ñ–∏–∫ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫—ç—à–∞:**
```javascript
TestUtils.showStats()
```

---

### –¢–ï–°–¢ 2: –ó–∞–≥—Ä—É–∑–∫–∞ 2000 —Å–≤–µ—á–µ–π —Å —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–º 1h (–ø—É—Å—Ç–∞—è –±–∞–∑–∞)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≥—Ä—É–∑–∫—É –Ω–∞ –¥—Ä—É–≥–æ–º —Ç–∞–π–º—Ñ—Ä–µ–π–º–µ

**–ö–æ–º–∞–Ω–¥–∞:**
```javascript
AutoTests.test2_EmptyStorage1h()
```

**–®–∞–≥–∏:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É –≤ –∫–æ–Ω—Å–æ–ª–∏
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º –Ω–∞ **1h** (60 –º–∏–Ω—É—Ç)
4. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üÜï No cache found, loading fresh data: bybit_candles_v1_linear_BTCUSDT_60
üìä Fetching 1000 candles from API...
‚úÖ Loaded 1000 candles
üíæ Saved 1000 candles to localStorage
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π –∫–ª—é—á —Å interval=60
- [ ] –î–∞–Ω–Ω—ã–µ –¥–ª—è 15m –∏ 60m –Ω–µ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è
- [ ] –ì—Ä–∞—Ñ–∏–∫ –ø–µ—Ä–µ–∫–ª—é—á–∏–ª—Å—è –Ω–∞ —á–∞—Å–æ–≤—ã–µ —Å–≤–µ—á–∏

---

### –¢–ï–°–¢ 3: –ó–∞–≥—Ä—É–∑–∫–∞ –≤ –±–∞–∑—É —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ —Å–≤–µ—á–∞–º–∏

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–æ–≥—Ä—É–∑–∫—É –Ω–æ–≤—ã—Ö —Å–≤–µ—á–µ–π –∫ —Å—Ç–∞—Ä–æ–º—É –∫—ç—à—É

**–ö–æ–º–∞–Ω–¥–∞:**
```javascript
AutoTests.test3_PartialStorage()
```

**–®–∞–≥–∏:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É (—Å–æ–∑–¥–∞—Å—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫—ç—à)
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üì¶ Found 400 cached candles for: bybit_candles_v1_linear_BTCUSDT_15
üïê Oldest: 2025-XX-XX, Newest: 2025-XX-XX
‚úÖ Updated last 10 candles
üìä New candles needed: XXX (time diff: XXX seconds)
üìä Fetching XXX new candles from API...
üíæ Saved 1000 candles to localStorage (deduplicated from 1400)
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –û–±–Ω–∞—Ä—É–∂–µ–Ω —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –∫—ç—à
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω—ã –ø–æ—Å–ª–µ–¥–Ω–∏–µ 10 —Å–≤–µ—á–µ–π
- [ ] –†–∞—Å—Å—á–∏—Ç–∞–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–æ–≤—ã—Ö —Å–≤–µ—á–µ–π
- [ ] –î–æ–≥—Ä—É–∂–µ–Ω—ã –Ω–æ–≤—ã–µ —Å–≤–µ—á–∏ –¥–æ —Ç–µ–∫—É—â–µ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- [ ] –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ ‚â§ 2000

**–î–µ–±–∞–≥:**
```javascript
TestUtils.showStats()  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏—Ç–æ–≥–æ–≤–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ
```

---

### –¢–ï–°–¢ 4: –ó–∞–≥—Ä—É–∑–∫–∞ —Å —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–º 1h –ø—Ä–∏ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º –∫—ç—à–µ

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–¥–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–∞–∑–Ω—ã—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤

**–ö–æ–º–∞–Ω–¥–∞:**
```javascript
AutoTests.test4_PartialStorage1h()
```

**–®–∞–≥–∏:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É (—Å–æ–∑–¥–∞—Å—Ç –∫—ç—à –¥–ª—è 1h)
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º –Ω–∞ 1h
4. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –î–ª—è 15m: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫—ç—à–∞
- –î–ª—è 60m: –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫—ç—à–∞
- –û–±–∞ –∫—ç—à–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –î–≤–∞ —Ä–∞–∑–Ω—ã—Ö –∫–ª—é—á–∞ –≤ localStorage
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ
- [ ] –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è

---

### –¢–ï–°–¢ 5: –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö (2000 —Å–≤–µ—á–µ–π –≤ –ø—Ä–æ—à–ª–æ–µ)

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é `loadHistoricalCandles`

**–ö–æ–º–∞–Ω–¥–∞:**
```javascript
AutoTests.test5_Historical()
```

**–†—É—á–Ω–æ–π –≤—ã–∑–æ–≤:**
```javascript
// –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–æ—Ä Zustand
const store = window.__ZUSTAND_STORE__?.getState();

// –ü–æ–ø—ã—Ç–∫–∞ –∑–∞–≥—Ä—É–∑–∏—Ç—å 2000 —Å–≤–µ—á–µ–π
const result = await store.loadHistoricalCandles('BTCUSDT', '15', 2000);
console.log('–†–µ–∑—É–ª—å—Ç–∞—Ç:', result);
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
‚ö†Ô∏è Requested 2000 historical candles but only 1000 in cache
‚ö†Ô∏è Note: Bybit API doesn't support fetching older data with endTime
üí° Consider implementing backend service for historical data
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –§—É–Ω–∫—Ü–∏—è –Ω–µ –ø–∞–¥–∞–µ—Ç —Å –æ—à–∏–±–∫–æ–π
- [ ] –í—ã–≤–æ–¥–∏—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ –ª–∏–º–∏—Ç–∞—Ö API
- [ ] –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –¥–æ—Å—Ç—É–ø–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –∫—ç—à–∞
- [ ] –ù–µ –¥–µ–ª–∞–µ—Ç –±–µ—Å–ø–æ–ª–µ–∑–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ API

**‚ö†Ô∏è –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ:** API Bybit –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –î–ª—è –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–µ–Ω backend-—Å–µ—Ä–≤–∏—Å.

---

### –¢–ï–°–¢ 6: –ê–ª–≥–æ—Ä–∏—Ç–º –≤—ã—Ö–æ–¥–∞ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã

**–¶–µ–ª—å:** –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–µ—Ä–µ–¥ –≤—ã—Ö–æ–¥–æ–º

**–ö–æ–º–∞–Ω–¥–∞:**
```javascript
AutoTests.test6_GracefulShutdown()
```

**–®–∞–≥–∏:**
1. –ó–∞–≥—Ä—É–∑–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ (–ª—é–±–æ–π —Ç–∞–π–º—Ñ—Ä–µ–π–º)
2. –î–æ–∂–¥–∏—Ç–µ—Å—å –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–≥—Ä—É–∑–∫–∏
3. –ù–∞–∂–º–∏—Ç–µ –∫–Ω–æ–ø–∫—É **"–í—ã—Ö–æ–¥"** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É
4. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ –¥–∏–∞–ª–æ–≥–µ
5. –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫—ç—à

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üíæ Saving current state...
üíæ Saved 1 candle cache(s) to localStorage
(–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è)
üì¶ Found 1000 cached candles for: bybit_candles_v1_linear_BTCUSDT_15
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –î–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ—è–≤–∏–ª—Å—è
- [ ] –õ–æ–≥–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤–∏–¥–Ω—ã –≤ –∫–æ–Ω—Å–æ–ª–∏
- [ ] –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã–µ –Ω–∞ –º–µ—Å—Ç–µ
- [ ] –ù–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –∑–∞–≥—Ä—É–∑–∫–∏ —Å API

**–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–¥ –∏ –ø–æ—Å–ª–µ:**
```javascript
TestUtils.showStats()  // –î–æ –Ω–∞–∂–∞—Ç–∏—è "–í—ã—Ö–æ–¥"
// ... –Ω–∞–∂–∞—Ç—å "–í—ã—Ö–æ–¥", –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ ...
TestUtils.showStats()  // –ü–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏ - –¥–æ–ª–∂–Ω—ã —Å–æ–≤–ø–∞–¥–∞—Ç—å
```

---

### –¢–ï–°–¢ 7: –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

#### 7.1 –†–∞–±–æ—Ç–∞ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º–∏

**–ö–æ–º–∞–Ω–¥–∞:**
```javascript
AutoTests.test7_MultipleTimeframes()
```

**–®–∞–≥–∏:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É (—Å–æ–∑–¥–∞—Å—Ç –∫—ç—à –¥–ª—è 1m, 5m, 15m, 60m)
2. –ü–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º–∏

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ localStorage:
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê

üìà BTCUSDT 1:
   –°–≤–µ—á–µ–π: 200
   ...

üìà BTCUSDT 5:
   –°–≤–µ—á–µ–π: 300
   ...

üìà BTCUSDT 15:
   –°–≤–µ—á–µ–π: 400
   ...

üìà BTCUSDT 60:
   –°–≤–µ—á–µ–π: 500
   ...
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –ö–∞–∂–¥—ã–π —Ç–∞–π–º—Ñ—Ä–µ–π–º –∏–º–µ–µ—Ç —Å–≤–æ–π –∫–ª—é—á
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ (–±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏)
- [ ] –î–∞–Ω–Ω—ã–µ –Ω–µ —Å–º–µ—à–∏–≤–∞—é—Ç—Å—è

---

#### 7.2 –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–æ—Ä–≥–æ–≤—ã—Ö –ø–∞—Ä

**–ö–æ–º–∞–Ω–¥–∞:**
```javascript
AutoTests.test8_SymbolSwitch()
```

**–®–∞–≥–∏:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É (—Å–æ–∑–¥–∞—Å—Ç –∫—ç—à –¥–ª—è BTC, ETH, SOL)
2. –ü–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å –º–µ–∂–¥—É –ø–∞—Ä–∞–º–∏ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö–∞–∂–¥–∞—è –ø–∞—Ä–∞ –∏–º–µ–µ—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫—ç—à
- –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –±—ã—Å—Ç—Ä–æ–µ

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –°–∏–º–≤–æ–ª—ã —Ä–∞–∑–¥–µ–ª–µ–Ω—ã –≤ localStorage
- [ ] –ù–µ—Ç –ø–µ—Ä–µ–∫—Ä–µ—Å—Ç–Ω–æ–≥–æ –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö

---

#### 7.3 –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–º–∏—Ç–∞ –∫—ç—à–∞ (MAX 2000)

**–ö–æ–º–∞–Ω–¥–∞:**
```javascript
AutoTests.test9_CacheLimits()
```

**–®–∞–≥–∏:**
1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É (—Å–æ–∑–¥–∞—Å—Ç 2500 —Å–≤–µ—á–µ–π)
2. –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
```
üì¶ Found 2500 cached candles for: bybit_candles_v1_linear_BTCUSDT_15
‚úÖ Updated last 10 candles
üìä Trimmed to 2000 candles (removed oldest 500)
üíæ Saved 2000 candles to localStorage
```

**–ü—Ä–æ–≤–µ—Ä–∫–∏:**
- [ ] –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–≤–µ—á–µ–π –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–æ 2000
- [ ] –£–¥–∞–ª–µ–Ω—ã —Å–∞–º—ã–µ —Å—Ç–∞—Ä—ã–µ —Å–≤–µ—á–∏
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω—ã —Å–∞–º—ã–µ –Ω–æ–≤—ã–µ

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ edge-case —Å—Ü–µ–Ω–∞—Ä–∏–∏

### 7.4 –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫—ç—à (>7 –¥–Ω–µ–π)

**–†—É—á–Ω–æ–π —Ç–µ—Å—Ç:**
```javascript
// –°–æ–∑–¥–∞—Ç—å –∫—ç—à —Å –¥–∞—Ç–æ–π 10 –¥–Ω–µ–π –Ω–∞–∑–∞–¥
const key = 'bybit_candles_v1_linear_BTCUSDT_15';
const oldDate = Date.now() - (10 * 24 * 60 * 60 * 1000); // 10 –¥–Ω–µ–π –Ω–∞–∑–∞–¥

localStorage.setItem(key, JSON.stringify({
  timestamp: oldDate,
  candles: [] // –ü—É—Å—Ç—ã–µ –¥–∞–Ω–Ω—ã–µ
}));

// –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ö—ç—à –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è (timestamp > 7 –¥–Ω–µ–π)
- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ

---

### 7.5 –°–µ—Ç–µ–≤–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ

**–†—É—á–Ω–æ–π —Ç–µ—Å—Ç:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ DevTools ‚Üí Network
2. –í–∫–ª—é—á–∏—Ç–µ "Offline" —Ä–µ–∂–∏–º
3. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å —Ç–∞–π–º—Ñ—Ä–µ–π–º
4. –í—ã–∫–ª—é—á–∏—Ç–µ "Offline"

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è gracefully
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
- –ü—Ä–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–∏ —Å–µ—Ç–∏ - –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞

---

### 7.6 –ë—ã—Å—Ç—Ä–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤

**–†—É—á–Ω–æ–π —Ç–µ—Å—Ç:**
1. –ë—ã—Å—Ç—Ä–æ –ø–µ—Ä–µ–∫–ª—é—á–∞–π—Ç–µ—Å—å: 1m ‚Üí 5m ‚Üí 15m ‚Üí 60m ‚Üí 15m
2. –ù–∞–±–ª—é–¥–∞–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ù–µ—Ç race conditions
- –ö–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–π –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç–∞–π–º—Ñ—Ä–µ–π–º

---

### 7.7 –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π –∫—ç—à –≤ localStorage

**–†—É—á–Ω–æ–π —Ç–µ—Å—Ç:**
```javascript
// –ù–∞–º–µ—Ä–µ–Ω–Ω–æ –ø–æ–≤—Ä–µ–¥–∏—Ç—å –¥–∞–Ω–Ω—ã–µ
const key = 'bybit_candles_v1_linear_BTCUSDT_15';
localStorage.setItem(key, '{invalid json}');

// –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É
```

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è
- –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π –∫—ç—à —É–¥–∞–ª—è–µ—Ç—Å—è
- –ó–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ

---

## üìä –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–ü–æ—Å–ª–µ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

```javascript
TestUtils.showStats()
```

**–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑–∞—Ç—å:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø–∏—Å–µ–π –≤ localStorage
- –†–∞–∑–º–µ—Ä –∫–∞–∂–¥–æ–π –∑–∞–ø–∏—Å–∏
- –í—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–∏–∞–ø–∞–∑–æ–Ω—ã
- –û–±—â–∏–π –æ–±—ä–µ–º –¥–∞–Ω–Ω—ã—Ö

---

## üìù –ß–µ–∫-–ª–∏—Å—Ç —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ë–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- [ ] –¢–ï–°–¢ 1: –ü–µ—Ä–≤–∏—á–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –¢–ï–°–¢ 2: –ó–∞–≥—Ä—É–∑–∫–∞ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤
- [ ] –¢–ï–°–¢ 3: –î–æ–≥—Ä—É–∑–∫–∞ –∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–º—É –∫—ç—à—É
- [ ] –¢–ï–°–¢ 4: –†–∞–∑–¥–µ–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤
- [ ] –¢–ï–°–¢ 5: –û–±—Ä–∞–±–æ—Ç–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- [ ] –¢–ï–°–¢ 6: –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –≤—ã—Ö–æ–¥ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏
- [ ] –¢–ï–°–¢ 7.1: –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º—ã
- [ ] –¢–ï–°–¢ 7.2: –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –ø–∞—Ä
- [ ] –¢–ï–°–¢ 7.3: –õ–∏–º–∏—Ç 2000 —Å–≤–µ—á–µ–π
- [ ] –¢–ï–°–¢ 7.4: –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –∫—ç—à
- [ ] –¢–ï–°–¢ 7.5: –°–µ—Ç–µ–≤—ã–µ –æ—à–∏–±–∫–∏
- [ ] –¢–ï–°–¢ 7.6: –ë—ã—Å—Ç—Ä—ã–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è
- [ ] –¢–ï–°–¢ 7.7: –ü–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–π –∫—ç—à

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ç–∞–π–º—Ñ—Ä–µ–π–º–∞–º–∏ –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–µ
- [ ] –ù–µ—Ç –∏–∑–±—ã—Ç–æ—á–Ω—ã—Ö API-–∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] localStorage –Ω–µ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω
- [ ] –ü–∞–º—è—Ç—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–µ —Ç–µ—á–µ—Ç (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Profiler)

---

## üêõ –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| ‚Ññ | –û–ø–∏—Å–∞–Ω–∏–µ | –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ | –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –°—Ç–∞—Ç—É—Å |
|---|----------|-----------------|-----------|--------|
| 1 | | | | |
| 2 | | | | |
| 3 | | | | |

---

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é

–ü–æ—Å–ª–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∑–∞–ø–æ–ª–Ω–∏—Ç–µ:

1. **–ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ö–æ—Ä–æ—à–æ:**
   - 

2. **–ß—Ç–æ –Ω—É–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:**
   - 

3. **–ù–æ–≤—ã–µ —Ñ–∏—á–∏:**
   - 

4. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –¥–æ–ª–≥:**
   - 

---

## üöÄ –ù–∞—á–∞–ª–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

**–ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç:**

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://localhost:5173
2. F12 ‚Üí Console
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –∫–æ–¥ –∏–∑ `frontend/test_storage.js`
4. –í—ã–ø–æ–ª–Ω–∏—Ç–µ: `AutoTests.test1_EmptyStorage()`
5. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ –∫–æ–Ω—Å–æ–ª–∏

**–£–¥–∞—á–∏! üéØ**
