# üìä –î–∞–Ω–Ω—ã–µ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (data/cache/)

## üéØ –¢–∏–∫–µ—Ä—ã

- **BTCUSDT** (Bitcoin / Tether USDT)

## ‚è±Ô∏è –¢–∞–π–º—Ñ—Ä–µ–π–º—ã

| –¢–∞–π–º—Ñ—Ä–µ–π–º | –§–∞–π–ª–æ–≤ | –ó–∞–ø–∏—Å–µ–π | –ü–µ—Ä–∏–æ–¥ –æ—Ö–≤–∞—Ç–∞ |
|-----------|--------|---------|---------------|
| **5 –º–∏–Ω—É—Ç** | 4 | 3,080 | 3-4 –¥–Ω—è |
| **15 –º–∏–Ω—É—Ç** | 6 | 2,101 | 1-10 –¥–Ω–µ–π |
| **30 –º–∏–Ω—É—Ç** | 5 | 1,260 | 1-12 –¥–Ω–µ–π |

## üìÅ –í—Å–µ —Ñ–∞–π–ª—ã

### –¢–∞–π–º—Ñ—Ä–µ–π–º 5 –º–∏–Ω—É—Ç

| –§–∞–π–ª | –ë–∞—Ä–æ–≤ | –ó–∞–ø–∏—Å–µ–π | –ü–µ—Ä–∏–æ–¥ | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |
|------|-------|---------|--------|--------------|
| `BTCUSDT_5_360.parquet` | 360 | 360 | 2025-10-28 ‚Üí 2025-10-29 | 1 –¥–µ–Ω—å |
| `BTCUSDT_5_720.parquet` | 720 | 720 | 2025-10-27 ‚Üí 2025-10-29 | 2 –¥–Ω—è |
| `BTCUSDT_5_1000.parquet` | 1,000 | 1,000 | 2025-10-26 ‚Üí 2025-10-29 | 3 –¥–Ω—è |
| `BTCUSDT_5_25920.parquet` | 25,920 | 1,000 ‚ö†Ô∏è | 2025-10-26 ‚Üí 2025-10-29 | 3 –¥–Ω—è |

‚ö†Ô∏è **BTCUSDT_5_25920.parquet** - –¥–∞–Ω–Ω—ã—Ö –º–µ–Ω—å—à–µ –æ–∂–∏–¥–∞–µ–º–æ–≥–æ (96.1%), –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

### –¢–∞–π–º—Ñ—Ä–µ–π–º 15 –º–∏–Ω—É—Ç

| –§–∞–π–ª | –ë–∞—Ä–æ–≤ | –ó–∞–ø–∏—Å–µ–π | –ü–µ—Ä–∏–æ–¥ | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |
|------|-------|---------|--------|--------------|
| `BTCUSDT_15_10.parquet` | 10 | 1 ‚ö†Ô∏è | 2024-01-01 | 0 –¥–Ω–µ–π |
| `BTCUSDT_15_100.parquet` | 100 | 100 | 2025-10-28 ‚Üí 2025-10-29 | 1 –¥–µ–Ω—å |
| `BTCUSDT_15_200.parquet` | 200 | 200 | 2025-10-27 ‚Üí 2025-10-29 | 2 –¥–Ω—è |
| `BTCUSDT_15_300.parquet` | 300 | 300 | 2025-10-26 ‚Üí 2025-10-29 | 3 –¥–Ω—è |
| `BTCUSDT_15_500.parquet` | 500 | 500 | 2025-10-24 ‚Üí 2025-10-29 | 5 –¥–Ω–µ–π |
| `BTCUSDT_15_1000.parquet` | 1,000 | 1,000 | 2025-10-19 ‚Üí 2025-10-29 | 10 –¥–Ω–µ–π |

‚ö†Ô∏è **BTCUSDT_15_10.parquet** - –Ω–µ–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è

### –¢–∞–π–º—Ñ—Ä–µ–π–º 30 –º–∏–Ω—É—Ç

| –§–∞–π–ª | –ë–∞—Ä–æ–≤ | –ó–∞–ø–∏—Å–µ–π | –ü–µ—Ä–∏–æ–¥ | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å |
|------|-------|---------|--------|--------------|
| `BTCUSDT_30_60.parquet` | 60 | 60 | 2025-10-28 ‚Üí 2025-10-29 | 1 –¥–µ–Ω—å |
| `BTCUSDT_30_120.parquet` | 120 | 120 | 2025-10-27 ‚Üí 2025-10-29 | 2 –¥–Ω—è |
| `BTCUSDT_30_180.parquet` | 180 | 180 | 2025-10-25 ‚Üí 2025-10-29 | 3 –¥–Ω—è |
| `BTCUSDT_30_300.parquet` | 300 | 300 | 2025-10-23 ‚Üí 2025-10-29 | 6 –¥–Ω–µ–π |
| `BTCUSDT_30_600.parquet` | 600 | 600 | 2025-10-17 ‚Üí 2025-10-29 | 12 –¥–Ω–µ–π |

## üí° –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –¥–ª—è ML-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### üî∑ –ü–æ–ª–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (100+ –∏—Ç–µ—Ä–∞—Ü–∏–π)

**–õ—É—á—à–∏–π –≤—ã–±–æ—Ä –¥–ª—è production-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**

- **BTCUSDT_15_1000.parquet** (1,000 –±–∞—Ä–æ–≤, 10 –¥–Ω–µ–π, 15 –º–∏–Ω—É—Ç)
  - ‚úÖ –î–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö –¥–ª—è —Å—Ç–∞—Ç–∏—Å—Ç–∏—á–µ—Å–∫–æ–π –∑–Ω–∞—á–∏–º–æ—Å—Ç–∏
  - ‚úÖ –û–ø—Ç–∏–º–∞–ª—å–Ω—ã–π —Ç–∞–π–º—Ñ—Ä–µ–π–º –¥–ª—è —Å—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
  - ‚úÖ 10 –¥–Ω–µ–π –ø–æ–∫—Ä—ã–≤–∞—é—Ç —Ä–∞–∑–Ω—ã–µ —Ä—ã–Ω–æ—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è
  
- **BTCUSDT_30_600.parquet** (600 –±–∞—Ä–æ–≤, 12 –¥–Ω–µ–π, 30 –º–∏–Ω—É—Ç)
  - ‚úÖ –ë–æ–ª—å—à–∏–π –ø–µ—Ä–∏–æ–¥ –æ—Ö–≤–∞—Ç–∞ (12 –¥–Ω–µ–π)
  - ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –º–µ–Ω–µ–µ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
  - ‚úÖ –•–æ—Ä–æ—à–æ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç–∏

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
data = pd.read_parquet('data/cache/BTCUSDT_15_1000.parquet')
result = await engine.ml_optimize(
    data=data,
    param_space=param_space,
    ml_library='catboost',
    method='bayes',
    n_trials=100
)
```

### üî∂ –ë—ã—Å—Ç—Ä–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è (30-50 –∏—Ç–µ—Ä–∞—Ü–∏–π)

**–î–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–∏–ø–æ—Ç–µ–∑:**

- **BTCUSDT_5_720.parquet** (720 –±–∞—Ä–æ–≤, 2 –¥–Ω—è, 5 –º–∏–Ω—É—Ç)
  - ‚úÖ –í—ã—Å–æ–∫–∞—è –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—è (5 –º–∏–Ω—É—Ç)
  - ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–∫–∞–ª—å–ø–∏–Ω–≥–æ–≤—ã—Ö —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
  - ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ
  
- **BTCUSDT_15_500.parquet** (500 –±–∞—Ä–æ–≤, 5 –¥–Ω–µ–π, 15 –º–∏–Ω—É—Ç)
  - ‚úÖ –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —Å–∫–æ—Ä–æ—Å—Ç—å—é –∏ —Ç–æ—á–Ω–æ—Å—Ç—å—é
  - ‚úÖ 5 –¥–Ω–µ–π - –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–ª—è –ø–µ—Ä–≤–∏—á–Ω–æ–π –æ—Ü–µ–Ω–∫–∏
  - ‚úÖ –•–æ—Ä–æ—à–æ –¥–ª—è SR/RSI —Å—Ç—Ä–∞—Ç–µ–≥–∏–π

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
data = pd.read_parquet('data/cache/BTCUSDT_15_500.parquet')
result = await engine.auto_optimize(
    data=data,
    strategy_type='sr_rsi',
    quick_mode=True  # 30 –∏—Ç–µ—Ä–∞—Ü–∏–π
)
```

### üî∏ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (10-20 –∏—Ç–µ—Ä–∞—Ü–∏–π)

**–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∏ –ø–µ—Ä–≤–∏—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

- **BTCUSDT_5_360.parquet** (360 –±–∞—Ä–æ–≤, 1 –¥–µ–Ω—å, 5 –º–∏–Ω—É—Ç)
  - ‚úÖ –ë—ã—Å—Ç—Ä–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ (~1-2 –º–∏–Ω—É—Ç—ã)
  - ‚úÖ –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –∫–æ–¥–∞
  - ‚ö†Ô∏è –°–ª–∏—à–∫–æ–º –∫–æ—Ä–æ—Ç–∫–∏–π –ø–µ—Ä–∏–æ–¥ –¥–ª—è production
  
- **BTCUSDT_15_200.parquet** (200 –±–∞—Ä–æ–≤, 2 –¥–Ω—è, 15 –º–∏–Ω—É—Ç)
  - ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –Ω–∞–±–æ—Ä –¥–ª—è –±–∞–∑–æ–≤–æ–π –æ—Ü–µ–Ω–∫–∏
  - ‚úÖ –ë—ã—Å—Ç—Ä–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è
  - ‚ö†Ô∏è –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç—Ä–µ–±—É—é—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –Ω–∞ –±–æ–ª—å—à–∏—Ö –¥–∞–Ω–Ω—ã—Ö

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
data = pd.read_parquet('data/cache/BTCUSDT_5_360.parquet')
result = await engine.auto_optimize(
    data=data,
    strategy_type='scalping',
    quick_mode=True
)
```

## üìä –ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| **–í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤** | 15 |
| **–í—Å–µ–≥–æ –∑–∞–ø–∏—Å–µ–π** | 6,441 |
| **–¢–∏–∫–µ—Ä–æ–≤** | 1 (BTCUSDT) |
| **–¢–∞–π–º—Ñ—Ä–µ–π–º–æ–≤** | 3 (5, 15, 30 –º–∏–Ω—É—Ç) |
| **–ü–µ—Ä–∏–æ–¥ –æ—Ö–≤–∞—Ç–∞** | 2024-01-01 ‚Üí 2025-10-29 |
| **–ì–æ–¥–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤** | 13 (2 –Ω–µ–ø–æ–ª–Ω—ã—Ö) |

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–Ω—ã–µ —Ñ–∞–π–ª—ã

1. **BTCUSDT_15_10.parquet** - —Ç–æ–ª—å–∫–æ 1 –∑–∞–ø–∏—Å—å –≤–º–µ—Å—Ç–æ 10 (90% –ø—Ä–æ–ø—É—â–µ–Ω–æ)
2. **BTCUSDT_5_25920.parquet** - —Ç–æ–ª—å–∫–æ 1,000 –∑–∞–ø–∏—Å–µ–π –≤–º–µ—Å—Ç–æ 25,920 (96.1% –ø—Ä–æ–ø—É—â–µ–Ω–æ)

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ù–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ —Ñ–∞–π–ª—ã –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏.

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow

### 1. –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ –∏ –æ—Ç–ª–∞–¥–∫–∞
```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –º–∞–ª—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
data = pd.read_parquet('data/cache/BTCUSDT_15_200.parquet')
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π
```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ä–µ–¥–Ω–∏–µ —Ñ–∞–π–ª—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≥–∏–ø–æ—Ç–µ–∑
data = pd.read_parquet('data/cache/BTCUSDT_15_500.parquet')
```

### 3. Production-–æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –¥–ª—è —Ñ–∏–Ω–∞–ª—å–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
data = pd.read_parquet('data/cache/BTCUSDT_15_1000.parquet')
```

### 4. Walk-Forward –≤–∞–ª–∏–¥–∞—Ü–∏—è
```python
# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ä–∞–∑–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
train_data = pd.read_parquet('data/cache/BTCUSDT_15_500.parquet')
test_data = pd.read_parquet('data/cache/BTCUSDT_15_1000.parquet')
# –í–∑—è—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ 200 –±–∞—Ä–æ–≤ –∏–∑ test_data –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
```

## üìù –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü—Ä–∏–º–µ—Ä 1: –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç
```python
import pandas as pd
from backend.core.backtest_engine import BacktestEngine
import asyncio

async def quick_test():
    data = pd.read_parquet('data/cache/BTCUSDT_15_200.parquet')
    engine = BacktestEngine(initial_capital=10_000)
    
    result = await engine.auto_optimize(
        data=data,
        strategy_type='sr_rsi',
        quick_mode=True  # 30 –∏—Ç–µ—Ä–∞—Ü–∏–π, ~2-3 –º–∏–Ω—É—Ç—ã
    )
    
    print(f"Best Sharpe: {result['best_score']:.2f}")
    return result

asyncio.run(quick_test())
```

### –ü—Ä–∏–º–µ—Ä 2: –ü–æ–ª–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
```python
async def full_optimization():
    data = pd.read_parquet('data/cache/BTCUSDT_15_1000.parquet')
    engine = BacktestEngine(initial_capital=10_000)
    
    result = await engine.auto_optimize(
        data=data,
        strategy_type='sr_rsi',
        optimization_goal='sharpe_ratio',
        quick_mode=False  # 100 –∏—Ç–µ—Ä–∞—Ü–∏–π, ~15-20 –º–∏–Ω—É—Ç
    )
    
    # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
    result['optimization_result'].save_to_file('optimization_result.json')
    
    return result

asyncio.run(full_optimization())
```

### –ü—Ä–∏–º–µ—Ä 3: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Ç–∞–π–º—Ñ—Ä–µ–π–º–æ–≤
```python
async def compare_timeframes():
    files = [
        'data/cache/BTCUSDT_5_720.parquet',
        'data/cache/BTCUSDT_15_500.parquet',
        'data/cache/BTCUSDT_30_300.parquet'
    ]
    
    results = {}
    engine = BacktestEngine(initial_capital=10_000)
    
    for file in files:
        data = pd.read_parquet(file)
        result = await engine.auto_optimize(
            data=data,
            strategy_type='sr_rsi',
            quick_mode=True
        )
        
        timeframe = file.split('_')[1]
        results[f'{timeframe}min'] = result['best_score']
    
    # –ù–∞–π—Ç–∏ –ª—É—á—à–∏–π —Ç–∞–π–º—Ñ—Ä–µ–π–º
    best_tf = max(results.items(), key=lambda x: x[1])
    print(f"Best timeframe: {best_tf[0]} (Sharpe: {best_tf[1]:.2f})")
    
    return results

asyncio.run(compare_timeframes())
```

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Å–≤–µ–∂–∏—Ö –¥–∞–Ω–Ω—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–∫—Ä–∏–ø—Ç –∑–∞–≥—Ä—É–∑–∫–∏:

```python
# TODO: –°–æ–∑–¥–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
# python scripts/download_data.py --ticker BTCUSDT --timeframe 15 --days 30
```

---

**–î–∞—Ç–∞ –∞–Ω–∞–ª–∏–∑–∞:** 2025-10-30  
**–°–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∞:** `analyze_data_cache.py`
